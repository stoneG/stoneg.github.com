<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>spearhead</title><link href="http://blog.sitongpeng.com/" rel="alternate"></link><link href="http://blog.sitongpeng.com/feeds/all.atom.xml" rel="self"></link><id>http://blog.sitongpeng.com/</id><updated>2013-01-30T22:00:00-08:00</updated><entry><title>Bit manipulation fun</title><link href="http://blog.sitongpeng.com/posts/bit-manipulation-fun.html" rel="alternate"></link><updated>2013-01-30T22:00:00-08:00</updated><author><name>Sitong Peng</name></author><id>tag:blog.sitongpeng.com,2013-01-30:posts/bit-manipulation-fun.html</id><summary type="html">&lt;p&gt;So while I was working on interview prep, I got a bit curious about what cool ways bit manipulation might alter the way we might write code. Here's a few examples of short functions you can write using only bit operations.&lt;/p&gt;
&lt;h2&gt;Simple stuff first&lt;/h2&gt;
&lt;p&gt;The following trick may be standard fare but seeing as I am not a "classically" trained programmer (no degree in computer science), this guy did tickle my fancy.&lt;/p&gt;
&lt;p&gt;When you write out a integer in a binary representation, 5 as &lt;code&gt;0101&lt;/code&gt; for example, the least significant bit (leftmost bit) represents if the integer is odd or even. Of course, bits further left represent powers of two, hence the term "base two".&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;0101 &lt;span class="n"&gt;is&lt;/span&gt; 0&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;2^3&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; 1&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;2^2&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; 0&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;2^1&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; 1&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;2^0&lt;span class="p"&gt;)&lt;/span&gt;
     &lt;span class="n"&gt;or&lt;/span&gt; 0&lt;span class="o"&gt;*&lt;/span&gt;8 &lt;span class="o"&gt;+&lt;/span&gt; 1&lt;span class="o"&gt;*&lt;/span&gt;4 &lt;span class="o"&gt;+&lt;/span&gt; 0&lt;span class="o"&gt;*&lt;/span&gt;2 &lt;span class="o"&gt;+&lt;/span&gt; 1&lt;span class="o"&gt;*&lt;/span&gt;1
     &lt;span class="n"&gt;or&lt;/span&gt; 5
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Anyone can write a simple function that tests if a given integer &lt;code&gt;x&lt;/code&gt; is even. Usually it will involve checking to see if &lt;code&gt;x&lt;/code&gt; mod 2 is 0.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;is_even&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;But, given that least significant bit of a binary value represents odd or even, we can write that same &lt;code&gt;is_even&lt;/code&gt; function using the &lt;code&gt;AND&lt;/code&gt; bit operation. &lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;is_even&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;For example 6 &amp;amp; 1 is 0.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;  &lt;span class="m"&gt;0110&lt;/span&gt;  &lt;span class="o"&gt;&amp;lt;--&lt;/span&gt; &lt;span class="m"&gt;6&lt;/span&gt;
&lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="m"&gt;0001&lt;/span&gt;  &lt;span class="o"&gt;&amp;lt;--&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;
&lt;span class="o"&gt;======&lt;/span&gt;
  &lt;span class="m"&gt;0000&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This ends up being the same amount of typing but it's interesting that we have this second option of writing the &lt;code&gt;is_even&lt;/code&gt; function.&lt;/p&gt;
&lt;h2&gt;Powerful twos&lt;/h2&gt;
&lt;p&gt;If you work on &lt;a href="http://projecteuler.net/"&gt;Project Euler&lt;/a&gt; problems frequently, the following shortcut might be beneficial to keep in mind. Here's a function that checks if &lt;code&gt;x&lt;/code&gt; is a power of two.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;is_power_of_two&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;power_of_two&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;
    &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="n"&gt;power_of_two&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;power_of_two&lt;/span&gt; &lt;span class="o"&gt;*=&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;power_of_two&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;That's pretty compact but it turns out binary is well suited to figure out if a number is a power of two.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;is_power_of_two&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Let's see this in action with &lt;code&gt;x&lt;/code&gt; as some random binary number:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;  &lt;span class="m"&gt;010110000&lt;/span&gt;  &lt;span class="o"&gt;&amp;lt;--&lt;/span&gt; x
&lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="m"&gt;000000001&lt;/span&gt;
&lt;span class="o"&gt;===========&lt;/span&gt;
  &lt;span class="m"&gt;010101111&lt;/span&gt;  &lt;span class="o"&gt;&amp;lt;--&lt;/span&gt; x&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;
&lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="m"&gt;010110000&lt;/span&gt;
&lt;span class="o"&gt;===========&lt;/span&gt;
  &lt;span class="m"&gt;010100000&lt;/span&gt;  &lt;span class="o"&gt;&amp;lt;--&lt;/span&gt; x &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;x&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

So&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;x &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;x&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; just removed the left&lt;span class="o"&gt;-&lt;/span&gt;most bit that was equal to &lt;span class="m"&gt;1.&lt;/span&gt; But then&lt;span class="p"&gt;,&lt;/span&gt; when might &lt;span class="p"&gt;(&lt;/span&gt;x &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;x&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; be &lt;span class="m"&gt;0&lt;/span&gt;? That would only happen when x has only one &lt;span class="m"&gt;1&lt;/span&gt; bit&lt;span class="p"&gt;,&lt;/span&gt; which means that x must be a power of &lt;span class="m"&gt;2.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Swapping in place&lt;/h2&gt;
&lt;p&gt;Python is nice in that you never have to use a temporary variable when you want to do variable swaps. This is, of course, not the same in other languages.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Behind the scenes, Python accesses the values of &lt;code&gt;y&lt;/code&gt; and &lt;code&gt;x&lt;/code&gt;, then rotates them as it unpacks and assigns to &lt;code&gt;x&lt;/code&gt; and &lt;code&gt;y&lt;/code&gt;. Here's what that looks like when run through the Python disassembler:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;dis&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;func&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
    &lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;
    &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;
    &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;

&lt;span class="n"&gt;dis&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dis&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;  &lt;span class="mi"&gt;3&lt;/span&gt;           &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="n"&gt;LOAD_CONST&lt;/span&gt;               &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;              &lt;span class="mi"&gt;3&lt;/span&gt; &lt;span class="n"&gt;STORE_FAST&lt;/span&gt;               &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;  &lt;span class="mi"&gt;4&lt;/span&gt;           &lt;span class="mi"&gt;6&lt;/span&gt; &lt;span class="n"&gt;LOAD_CONST&lt;/span&gt;               &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;              &lt;span class="mi"&gt;9&lt;/span&gt; &lt;span class="n"&gt;STORE_FAST&lt;/span&gt;               &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;  &lt;span class="mi"&gt;5&lt;/span&gt;          &lt;span class="mi"&gt;12&lt;/span&gt; &lt;span class="n"&gt;LOAD_FAST&lt;/span&gt;                &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;             &lt;span class="mi"&gt;15&lt;/span&gt; &lt;span class="n"&gt;LOAD_FAST&lt;/span&gt;                &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;             &lt;span class="mi"&gt;18&lt;/span&gt; &lt;span class="n"&gt;ROT_TWO&lt;/span&gt;             
&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;             &lt;span class="mi"&gt;19&lt;/span&gt; &lt;span class="n"&gt;STORE_FAST&lt;/span&gt;               &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;             &lt;span class="mi"&gt;22&lt;/span&gt; &lt;span class="n"&gt;STORE_FAST&lt;/span&gt;               &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;  &lt;span class="mi"&gt;6&lt;/span&gt;          &lt;span class="mi"&gt;25&lt;/span&gt; &lt;span class="n"&gt;LOAD_FAST&lt;/span&gt;                &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;             &lt;span class="mi"&gt;28&lt;/span&gt; &lt;span class="n"&gt;LOAD_FAST&lt;/span&gt;                &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;             &lt;span class="mi"&gt;31&lt;/span&gt; &lt;span class="n"&gt;ROT_TWO&lt;/span&gt;             
&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;             &lt;span class="mi"&gt;32&lt;/span&gt; &lt;span class="n"&gt;STORE_FAST&lt;/span&gt;               &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;             &lt;span class="mi"&gt;35&lt;/span&gt; &lt;span class="n"&gt;STORE_FAST&lt;/span&gt;               &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;             &lt;span class="mi"&gt;38&lt;/span&gt; &lt;span class="n"&gt;LOAD_CONST&lt;/span&gt;               &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;             &lt;span class="mi"&gt;41&lt;/span&gt; &lt;span class="n"&gt;RETURN_VALUE&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;But, did you know we can actually swap without a temporary variable using &lt;code&gt;XOR&lt;/code&gt; too.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="n"&gt;x&lt;/span&gt; ^&lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;
&lt;span class="n"&gt;y&lt;/span&gt; ^&lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;
&lt;span class="n"&gt;x&lt;/span&gt; ^&lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To understand what's happening, you should recall that &lt;code&gt;XOR&lt;/code&gt; is commutative, &lt;code&gt;x^x&lt;/code&gt; is 0, and &lt;code&gt;x^0&lt;/code&gt; is &lt;code&gt;x&lt;/code&gt;. Let's break down the &lt;a href="http://en.wikipedia.org/wiki/XOR_swap_algorithm"&gt;XOR Swap Algorithm&lt;/a&gt; again.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="gh"&gt;start   -&amp;gt;  breaking down  -&amp;gt;  commuting      -&amp;gt;  cancelling -&amp;gt;  removing 0&amp;#39;s&lt;/span&gt;
&lt;span class="gh"&gt;=============================================================================&lt;/span&gt;
x ^= y  -&amp;gt;  x = x^y
y ^= x  -&amp;gt;  y = y^x^y      -&amp;gt;  y = x^y^y      -&amp;gt;  y = x^0    -&amp;gt;  y = x
x ^= y  -&amp;gt;  x = x^y^y^x^y  -&amp;gt;  x = x^x^y^y^y  -&amp;gt;  x = 0^y^0  -&amp;gt;  x = y
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;That's pretty cool but I'll stick to Python's easy swap. It is nice, however, to see how binary manipulation can be used to our advantage in languages that don't have an in-place swap.&lt;/p&gt;
&lt;p&gt;Now for the disclaimer. While the XOR swap is pretty nifty, it doesn't have much practical use. If you actually plan on using it in the real world, hopefully your application fits in one of &lt;a href="http://en.wikipedia.org/wiki/XOR_swap_algorithm#Reasons_for_use_in_practice"&gt;these&lt;/a&gt; buckets. Turns out, optimizing compilers tend to make temporary variable swaps pretty efficient, often faster than this XOR swap.&lt;/p&gt;
&lt;p&gt;&lt;span id="note"&gt;Have any more bit manipulation tricks you'd like to share? Leave me a comment, I'd love to see more in action.&lt;/span&gt;&lt;/p&gt;</summary><category term="bit manipulation"></category><category term="binary"></category><category term="tricks"></category><category term="python"></category></entry><entry><title>The case for base cases</title><link href="http://blog.sitongpeng.com/posts/the-case-for-base-cases.html" rel="alternate"></link><updated>2013-01-28T21:45:00-08:00</updated><author><name>Sitong Peng</name></author><id>tag:blog.sitongpeng.com,2013-01-28:posts/the-case-for-base-cases.html</id><summary type="html">&lt;p&gt;You have a complicated problem to solve. How do you start tackling it?&lt;/p&gt;
&lt;p&gt;One of the most tried and tested methods of problem solving is nothing more than implementing some noise control. In other words, can you peel back the complexity of the problem and make it simpler?&lt;/p&gt;
&lt;h2&gt;Tower of Hanoi&lt;/h2&gt;
&lt;p&gt;I finally sat down and tried solving this problem two days ago. For those of you unfamiliar, the &lt;a href="http://en.wikipedia.org/wiki/Tower_of_Hanoi"&gt;Tower of Hanoi&lt;/a&gt; is an old puzzle that has been mostly re-appropriated as a classic example of algorithmic thought. Here's a version of it:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Tower of Hanoi, from Wikipedia" src="http://upload.wikimedia.org/wikipedia/commons/0/07/Tower_of_Hanoi.jpeg" /&gt;&lt;/p&gt;
&lt;p&gt;There are three rods and a number of different sized disks that can slide onto any rod. The puzzle starts with the disks in a neat stack, ascending by size, on the first rod. The objective of the puzzle is to move the entire stack to the last rod, obeying the following rules:  &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Only one disk may be moved at a time.  &lt;/li&gt;
&lt;li&gt;Each move consists of taking the top-most disk from one of the rods and sliding it onto another rod, on top of the other disks that may already be present on that rod.  &lt;/li&gt;
&lt;li&gt;No disk may be placed on top of a disk smaller than it.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Seems straightforward enough, but let's solve this for N disks. How should we start?&lt;/p&gt;
&lt;h2&gt;Let's start with the base cases&lt;/h2&gt;
&lt;p&gt;N=1&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;    &lt;span class="o"&gt;|&lt;/span&gt;         &lt;span class="o"&gt;|&lt;/span&gt;         &lt;span class="o"&gt;|&lt;/span&gt;
    &lt;span class="o"&gt;|&lt;/span&gt;         &lt;span class="o"&gt;|&lt;/span&gt;         &lt;span class="o"&gt;|&lt;/span&gt;
   &lt;span class="o"&gt;-|-&lt;/span&gt;        &lt;span class="o"&gt;|&lt;/span&gt;         &lt;span class="o"&gt;|&lt;/span&gt;
&lt;span class="o"&gt;========&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="o"&gt;========&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="o"&gt;========&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;
    &lt;span class="n"&gt;A&lt;/span&gt;         &lt;span class="n"&gt;B&lt;/span&gt;         &lt;span class="n"&gt;C&lt;/span&gt;

1&lt;span class="p"&gt;.&lt;/span&gt;  &lt;span class="o"&gt;-----------------&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;-|-&lt;/span&gt;
&lt;span class="n"&gt;Done&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;

&lt;span class="n"&gt;So&lt;/span&gt; &lt;span class="n"&gt;we&lt;/span&gt; &lt;span class="n"&gt;solve&lt;/span&gt; &lt;span class="n"&gt;N&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;1 &lt;span class="n"&gt;with&lt;/span&gt; &lt;span class="n"&gt;one&lt;/span&gt; &lt;span class="n"&gt;move&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="o"&gt;-|-&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;N=2&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;    &lt;span class="o"&gt;|&lt;/span&gt;         &lt;span class="o"&gt;|&lt;/span&gt;         &lt;span class="o"&gt;|&lt;/span&gt;
   &lt;span class="o"&gt;-|-&lt;/span&gt;        &lt;span class="o"&gt;|&lt;/span&gt;         &lt;span class="o"&gt;|&lt;/span&gt;
  &lt;span class="o"&gt;--|--&lt;/span&gt;       &lt;span class="o"&gt;|&lt;/span&gt;         &lt;span class="o"&gt;|&lt;/span&gt;
&lt;span class="o"&gt;========&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="o"&gt;========&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="o"&gt;========&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;
    &lt;span class="n"&gt;A&lt;/span&gt;         &lt;span class="n"&gt;B&lt;/span&gt;         &lt;span class="n"&gt;C&lt;/span&gt;

1&lt;span class="p"&gt;.&lt;/span&gt;  &lt;span class="o"&gt;-------&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;-|-&lt;/span&gt;

    &lt;span class="o"&gt;|&lt;/span&gt;         &lt;span class="o"&gt;|&lt;/span&gt;         &lt;span class="o"&gt;|&lt;/span&gt;
    &lt;span class="o"&gt;|&lt;/span&gt;         &lt;span class="o"&gt;|&lt;/span&gt;         &lt;span class="o"&gt;|&lt;/span&gt;
  &lt;span class="o"&gt;--|--&lt;/span&gt;      &lt;span class="o"&gt;-|-&lt;/span&gt;        &lt;span class="o"&gt;|&lt;/span&gt;
&lt;span class="o"&gt;========&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="o"&gt;========&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="o"&gt;========&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;
    &lt;span class="n"&gt;A&lt;/span&gt;         &lt;span class="n"&gt;B&lt;/span&gt;         &lt;span class="n"&gt;C&lt;/span&gt;

2&lt;span class="p"&gt;.&lt;/span&gt;  &lt;span class="o"&gt;----------------&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;--|--&lt;/span&gt;
3&lt;span class="p"&gt;.&lt;/span&gt;            &lt;span class="o"&gt;-------&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;-|-&lt;/span&gt;
&lt;span class="n"&gt;Done&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;

&lt;span class="n"&gt;Let&lt;/span&gt;&lt;span class="o"&gt;&amp;#39;&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="n"&gt;take&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;closer&lt;/span&gt; &lt;span class="n"&gt;look&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;these&lt;/span&gt; &lt;span class="n"&gt;moves&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
1&lt;span class="p"&gt;.&lt;/span&gt; &lt;span class="n"&gt;Exactly&lt;/span&gt; &lt;span class="n"&gt;like&lt;/span&gt; &lt;span class="n"&gt;solving&lt;/span&gt; &lt;span class="n"&gt;N&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;1&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;except&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt; &lt;span class="n"&gt;instead&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;C&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;
2&lt;span class="p"&gt;.&lt;/span&gt; &lt;span class="n"&gt;The&lt;/span&gt; &lt;span class="n"&gt;second&lt;/span&gt; &lt;span class="n"&gt;step&lt;/span&gt; &lt;span class="n"&gt;places&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;largest&lt;/span&gt; &lt;span class="n"&gt;disc&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;base&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="n"&gt;C&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;
3&lt;span class="p"&gt;.&lt;/span&gt; &lt;span class="n"&gt;Also&lt;/span&gt; &lt;span class="n"&gt;solves&lt;/span&gt; &lt;span class="n"&gt;N&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;1&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;only&lt;/span&gt; &lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;C&lt;/span&gt; &lt;span class="n"&gt;instead&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;C&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;
&lt;span class="n"&gt;Done&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;

&lt;span class="n"&gt;Let&lt;/span&gt;&lt;span class="o"&gt;&amp;#39;&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="n"&gt;rewrite&lt;/span&gt; &lt;span class="n"&gt;our&lt;/span&gt; &lt;span class="n"&gt;steps&lt;/span&gt; &lt;span class="n"&gt;like&lt;/span&gt; &lt;span class="n"&gt;this&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
1&lt;span class="p"&gt;.&lt;/span&gt; &lt;span class="n"&gt;Solve&lt;/span&gt; &lt;span class="n"&gt;N&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;1&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;except&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;
2&lt;span class="p"&gt;.&lt;/span&gt; &lt;span class="n"&gt;Move&lt;/span&gt; &lt;span class="o"&gt;--|--&lt;/span&gt; &lt;span class="n"&gt;from&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;C&lt;/span&gt;
3&lt;span class="p"&gt;.&lt;/span&gt; &lt;span class="n"&gt;Solve&lt;/span&gt; &lt;span class="n"&gt;N&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;1&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;except&lt;/span&gt; &lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;C&lt;/span&gt;
&lt;span class="n"&gt;Done&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;N=3&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;   &lt;span class="o"&gt;-|-&lt;/span&gt;        &lt;span class="o"&gt;|&lt;/span&gt;         &lt;span class="o"&gt;|&lt;/span&gt;
  &lt;span class="o"&gt;--|--&lt;/span&gt;       &lt;span class="o"&gt;|&lt;/span&gt;         &lt;span class="o"&gt;|&lt;/span&gt;
 &lt;span class="o"&gt;---|---&lt;/span&gt;      &lt;span class="o"&gt;|&lt;/span&gt;         &lt;span class="o"&gt;|&lt;/span&gt;
&lt;span class="o"&gt;=========&lt;/span&gt; &lt;span class="o"&gt;=========&lt;/span&gt; &lt;span class="o"&gt;=========&lt;/span&gt;
    A         B         C

&lt;span class="m"&gt;1.&lt;/span&gt;  &lt;span class="o"&gt;-----------------&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;-|-&lt;/span&gt;
&lt;span class="m"&gt;2.&lt;/span&gt;  &lt;span class="o"&gt;------&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;--|--&lt;/span&gt;
&lt;span class="m"&gt;3.&lt;/span&gt;           &lt;span class="o"&gt;-|-&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;-------&lt;/span&gt;

    &lt;span class="o"&gt;|&lt;/span&gt;         &lt;span class="o"&gt;|&lt;/span&gt;         &lt;span class="o"&gt;|&lt;/span&gt;
    &lt;span class="o"&gt;|&lt;/span&gt;        &lt;span class="o"&gt;-|-&lt;/span&gt;        &lt;span class="o"&gt;|&lt;/span&gt;
 &lt;span class="o"&gt;---|---&lt;/span&gt;    &lt;span class="o"&gt;--|--&lt;/span&gt;       &lt;span class="o"&gt;|&lt;/span&gt;
&lt;span class="o"&gt;=========&lt;/span&gt; &lt;span class="o"&gt;=========&lt;/span&gt; &lt;span class="o"&gt;=========&lt;/span&gt;
    A         B         C

&lt;span class="m"&gt;4.&lt;/span&gt;  &lt;span class="o"&gt;---------------&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;---|---&lt;/span&gt;
&lt;span class="m"&gt;5.&lt;/span&gt; &lt;span class="o"&gt;-|-&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;-------&lt;/span&gt;
&lt;span class="m"&gt;6.&lt;/span&gt;            &lt;span class="o"&gt;------&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;--|--&lt;/span&gt;
&lt;span class="m"&gt;7.&lt;/span&gt;  &lt;span class="o"&gt;-----------------&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;-|-&lt;/span&gt;
Done.

Notice how steps &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt; solve N&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt; and places it at B. Rewrite?
&lt;span class="m"&gt;1.&lt;/span&gt; Solve N&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; except A&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;B
&lt;span class="m"&gt;2.&lt;/span&gt; Move &lt;span class="o"&gt;---|---&lt;/span&gt; from A&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;C
&lt;span class="m"&gt;3.&lt;/span&gt; Solve N&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; except B&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;C
Done.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Interesting. Looks like we have a formula.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="n"&gt;N&lt;/span&gt;&lt;span class="p"&gt;=&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;
1&lt;span class="p"&gt;.&lt;/span&gt; &lt;span class="n"&gt;Solve&lt;/span&gt; &lt;span class="n"&gt;N&lt;/span&gt;&lt;span class="p"&gt;=(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;1&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;except&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;B&lt;/span&gt;
2&lt;span class="p"&gt;.&lt;/span&gt; &lt;span class="n"&gt;Move&lt;/span&gt; &lt;span class="n"&gt;largest&lt;/span&gt; &lt;span class="n"&gt;disc&lt;/span&gt; &lt;span class="n"&gt;from&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;C&lt;/span&gt;
3&lt;span class="p"&gt;.&lt;/span&gt; &lt;span class="n"&gt;Solve&lt;/span&gt; &lt;span class="n"&gt;N&lt;/span&gt;&lt;span class="p"&gt;=(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;1&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;except&lt;/span&gt; &lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;C&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;I was pretty excited when I saw this pattern, as it meant I could code up a solution in very few lines of code. Here it is in Python, using a list as a stack:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;solve_hanoi&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;C&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt;
    &lt;span class="n"&gt;solve_hanoi&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;C&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;C&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pop&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
    &lt;span class="n"&gt;solve_hanoi&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;B&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;A&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;C&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The trick is to redefine the rods for each recursive &lt;code&gt;n-1&lt;/code&gt; call. What's more is you really only need to think about which rod you're starting and ending at. The odd rod out is just the buffer.&lt;/p&gt;
&lt;p&gt;I'd show you the code in action but all the computation is behind the scenes and not very interesting. Luckily a quick search on Youtube yielded a visual solution for N=6. Notice how there is a point of symmetry in the middle as the 5 smaller disks sit at B and the largest disk migrates over to C. Utterly awesome!&lt;/p&gt;
&lt;iframe style="margin-top:20px;" width="560" height="315" src="http://www.youtube.com/embed/JqC_LsF1iWg" frameborder="0" allowfullscreen&gt;&lt;/iframe&gt;</summary><category term="base case"></category><category term="python"></category><category term="tower of hanoi"></category><category term="algorithms"></category><category term="recursion"></category><category term="youtube"></category></entry><entry><title>Unexpected random number generation</title><link href="http://blog.sitongpeng.com/posts/unexpected-random-number-generation.html" rel="alternate"></link><updated>2013-01-23T20:20:00-08:00</updated><author><name>Sitong Peng</name></author><id>tag:blog.sitongpeng.com,2013-01-23:posts/unexpected-random-number-generation.html</id><summary type="html">&lt;p&gt;So, last month, I was working on building test applications for &lt;a href="https://github.com/stoneG/whiskey"&gt;Whiskey&lt;/a&gt;, my Python WSGI server implementation. I wanted to ensure Whiskey was robust enough to keep going, even if it was serving applications that met critical, program-killing exceptions. To that end, I wrote a random exception throwing application to test with Whiskey. Here's the code, simplified and stripped down to its core.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;random&lt;/span&gt;

&lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;pid&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fork&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;pid&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="c"&gt;# if we are in the child process&lt;/span&gt;
        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_exit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;A little background&lt;/h2&gt;
&lt;p&gt;Whiskey handles concurrent client requests by forking new child processes. Calling &lt;code&gt;os.fork()&lt;/code&gt; splits the current process into two, the parent and child. The child process will have a process identifier (pid) of 0. Recall that a forked child process has a copy of the same memory space/environment of its parent.&lt;/p&gt;
&lt;h2&gt;Result&lt;/h2&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; 0&lt;span class="p"&gt;.&lt;/span&gt;844421851525
&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; 0&lt;span class="p"&gt;.&lt;/span&gt;844421851525
&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; 0&lt;span class="p"&gt;.&lt;/span&gt;844421851525
&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; 0&lt;span class="p"&gt;.&lt;/span&gt;844421851525
&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; 0&lt;span class="p"&gt;.&lt;/span&gt;844421851525
&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; 0&lt;span class="p"&gt;.&lt;/span&gt;844421851525
&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; 0&lt;span class="p"&gt;.&lt;/span&gt;844421851525
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;You might not be surprised since you've already come into this post with some suspicion, but remember that this is the stripped down code. What I actually ran into, was an application that either always failed or never failed. So, what's going on?&lt;/p&gt;
&lt;p&gt;Well, every client request leads to a forked child process that handles the request. However, each child process ends up having the same random seed, since it is always forked from the same parent process (or more specifically, a parent process which never changes its random seed). This results in a pesky situation where you unexpectedly have an expected random number.&lt;/p&gt;
&lt;h2&gt;Solution&lt;/h2&gt;
&lt;p&gt;We need to reset the random seed for each forked process. One way is to set the seed to the time of the request.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;random&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;time&lt;/span&gt;                      &lt;span class="c"&gt;##### ADDED THIS LINE ######&lt;/span&gt;

&lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;pid&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fork&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;pid&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;seed&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt; &lt;span class="c"&gt;##### ADDED THIS LINE ######&lt;/span&gt;
        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_exit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Randomness restored.&lt;/p&gt;
&lt;p&gt;&lt;span id="update"&gt;Update&lt;/span&gt;&lt;br /&gt;
My friend &lt;a href="https://twitter.com/geofflee"&gt;Geoff&lt;/a&gt; mentioned that for real applications, you wouldn't want to use &lt;code&gt;time.time()&lt;/code&gt; as your seed. Besides you leaving yourself open to the chance of two requests spawning processes at the same time, any PRNG (pseudo random number generator) is unsuitable for security reasons. Instead using &lt;code&gt;/dev/random&lt;/code&gt; (UNIX) or &lt;code&gt;CryptGenRandom&lt;/code&gt; (Windows) is preferable, since you'd have true randomness then. For the Python implementation, you'd want to make a call to &lt;code&gt;os.urandom()&lt;/code&gt; to access your OS's random file. You can find the documentation on that, &lt;a href="http://docs.python.org/2/library/os.html#os.urandom"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span id="note"&gt;I wish I could say I ran into this recently, but I've unfortunately been too busy applying to jobs instead of working on personal projects. I actually talked about this subject for a Hacker School weekly presentation on December 6th, 2012.&lt;/span&gt;&lt;/p&gt;</summary><category term="random"></category><category term="random numbers"></category><category term="processes"></category><category term="forking"></category><category term="python"></category><category term="whiskey"></category></entry><entry><title>Play sweeper</title><link href="http://blog.sitongpeng.com/posts/play-sweeper.html" rel="alternate"></link><updated>2013-01-17T16:20:00-08:00</updated><author><name>Sitong Peng</name></author><id>tag:blog.sitongpeng.com,2013-01-17:posts/play-sweeper.html</id><summary type="html">&lt;p&gt;Been working on this for the last couple days. It's my first, real foray into writing in Javascript since I don't count the couple of functions I've written for my websites. It uses a bit of JQuery. A lot of learning went into the creation of this game so I might write more about that business later. But yeah, for now.. Play &lt;a href="http://stoneg.github.com/sweeper/sweeper.html"&gt;sweeper&lt;/a&gt;.&lt;/p&gt;</summary><category term="sweeper"></category><category term="javascript"></category><category term="programming challenge"></category><category term="game"></category><category term="minesweeper"></category></entry><entry><title>I am a real Vim user today</title><link href="http://blog.sitongpeng.com/posts/i-am-a-real-vim-user-today.html" rel="alternate"></link><updated>2013-01-10T20:00:00-08:00</updated><author><name>Sitong Peng</name></author><id>tag:blog.sitongpeng.com,2013-01-10:posts/i-am-a-real-vim-user-today.html</id><summary type="html">&lt;p&gt;There comes a point, usually after you've been using something for awhile, when you realize you are no longer just using it casually. &lt;strong&gt;&lt;em&gt;And no, I'm not talking about drugs.&lt;/em&gt;&lt;/strong&gt;I'm talking about defining my first shortcut key in my &lt;code&gt;.vimrc&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;A little background&lt;/h2&gt;
&lt;p&gt;I was first introduced to &lt;a href="http://www.vim.org/"&gt;Vim&lt;/a&gt; by my &lt;a href="http://www.hackerschool.com"&gt;Hacker School&lt;/a&gt; buddy &lt;a href="http://www.jamesshieh.com"&gt;James&lt;/a&gt;. For those of you who don't know, Vim is a very peculiar text editor. It is an "improved" version of &lt;a href="http://ex-vi.sourceforge.net/"&gt;Vi&lt;/a&gt;, the de facto Unix editor. Vim allows for a very efficient coding experience in which your hands generally never have to leave their main resting positions on the keyboard. And unlike editors (see &lt;a href="http://www.gnu.org/software/emacs/"&gt;Emacs&lt;/a&gt;), Vim makes heavy usage of different input modes to separate document navigation, inserting content, and text selection. This makes for a steep initial learning curve, as the default mode in Vim is mostly navigational, which is a farcry from the style of most word processors (hjkl actually mean hjkl, not left down up right).&lt;/p&gt;
&lt;h2&gt;Word Wrap&lt;/h2&gt;
&lt;p&gt;So I was excited to be able to write these blog posts using Vim since I've gotten quite good and fast at using it. However, I quickly realized that a text editor that primarily displays lines of code needs a bit of work to properly display words and sentences.&lt;/p&gt;
&lt;p&gt;For instance, here's what I was seeing everytime I wrote a paragraph of text:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;This is a medium paragraph of text. Everything is all fine and dandy until you
 get to the end of the line. Then, whatever text you just wrote gets cut off p
recisely when you reach the column width of your Vim window. This leads to awk
ward and hard to read paragraphs!
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;So, after a bit of research, I threw this into my &lt;code&gt;.vimrc&lt;/code&gt; file.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="c"&gt;&amp;quot; F5 word wrap mode (great for writing blog posts!)&lt;/span&gt;
&lt;span class="k"&gt;set&lt;/span&gt; &lt;span class="nb"&gt;wrap&lt;/span&gt;
&lt;span class="nb"&gt;nnoremap&lt;/span&gt; &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;F5&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; :&lt;span class="k"&gt;set&lt;/span&gt; &lt;span class="nb"&gt;linebreak&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;CR&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="nb"&gt;nnoremap&lt;/span&gt; &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;C&lt;span class="p"&gt;-&lt;/span&gt;F5&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; :&lt;span class="k"&gt;set&lt;/span&gt; &lt;span class="nb"&gt;nolinebreak&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;CR&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The first line turns the &lt;code&gt;wrap&lt;/code&gt; option on. The second line binds &lt;code&gt;:set linebreak&amp;lt;CR&amp;gt;&lt;/code&gt; to &lt;code&gt;F5&lt;/code&gt; in normal mode. The last line binds the reverse to &lt;code&gt;Ctrl&lt;/code&gt; + &lt;code&gt;F5&lt;/code&gt;. &lt;code&gt;&amp;lt;CR&amp;gt;&lt;/code&gt; is a carriage return, otherwise known as the &lt;code&gt;enter&lt;/code&gt; or &lt;code&gt;return&lt;/code&gt; button.&lt;/p&gt;
&lt;p&gt;So hitting &lt;code&gt;F5&lt;/code&gt; in normal mode effectively types out &lt;code&gt;:set linebreak&lt;/code&gt; then hits &lt;code&gt;enter&lt;/code&gt; for you, rendering much more readable text for when you are not just writing code!&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;This is a medium paragraph of text. Everything is all fine and dandy until
you get to the end of the line. Then, whatever text you just wrote gets cut
off precisely when you reach the column width of your Vim window. This
leads to awkward and hard to read paragraphs!
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;span id="note"&gt;For those of you that are curious, Vim will automatically break the line as soon as it encounters any of these characters &lt;code&gt;^I !@*-+;:,./?&lt;/code&gt;. You can change that default by redefining the &lt;code&gt;breakat&lt;/code&gt; option. See &lt;a href="http://vim.wikia.com/wiki/Word_wrap_without_line_breaks"&gt;here&lt;/a&gt; for details.&lt;/span&gt;&lt;/p&gt;</summary><category term="vim"></category><category term="vimrc"></category><category term="shortcut"></category><category term="emacs"></category><category term="word wrap"></category><category term="blog"></category><category term="hacker school"></category></entry><entry><title>Trying out the static blog thing</title><link href="http://blog.sitongpeng.com/posts/trying-out-the-static-blog-thing.html" rel="alternate"></link><updated>2013-01-08T16:35:00-08:00</updated><author><name>Sitong Peng</name></author><id>tag:blog.sitongpeng.com,2013-01-08:posts/trying-out-the-static-blog-thing.html</id><summary type="html">&lt;p&gt;Since I started actively programming a few months ago, I've learned much about what technology I take for granted. In order to help me appreciate the many abstractions that our lives are built upon, I've made it my goal to be more technologically self-sufficent. The first step was to revamp my &lt;a href="http://www.sitongpeng.com"&gt;personal website&lt;/a&gt;. Next up was to move my code blog from Tumblr to my own domain, and then rebuild it on top of a static site/blog generator. That way, I would have complete ownership and control over my own posts.&lt;/p&gt;
&lt;h2&gt;Static what nots?&lt;/h2&gt;
&lt;p&gt;Static site generators do what they advertise. They take some content you provide, then generate a pre-determined set of static html pages that are web ready. The idea here is that once you finish setting up the styling and format of your site, you can simply focus on &lt;strong&gt;&lt;em&gt;writing content&lt;/em&gt;&lt;/strong&gt;. Of course, they have boiler plate templates ready for you too, if you'd rather jump right into writing.&lt;/p&gt;
&lt;h2&gt;Getting set up&lt;/h2&gt;
&lt;p&gt;You should certainly consult the &lt;a href="https://pelican.readthedocs.org"&gt;Pelican docs&lt;/a&gt; for the full guide, but here's my general guide on how to get started.&lt;/p&gt;
&lt;p&gt;Pelican is written in Python (major selling point for me), so install it and it's dependencies using virtualenv and pip. Pelican only supports &lt;a href="http://docutils.sourceforge.net/rst.html"&gt;reST&lt;/a&gt; out of the box but provides &lt;a href="http://daringfireball.net/projects/markdown/"&gt;Markdown&lt;/a&gt; support upon installation of the &lt;a href="http://packages.python.org/Markdown/"&gt;Python-Markdown&lt;/a&gt; library. I use Markdown for my posts.&lt;/p&gt;
&lt;p&gt;Then, you'll want to make a &lt;code&gt;settings.py&lt;/code&gt; file somewhere in your project folder. This file will hold the global variables you set for Pelican. The important ones include:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="n"&gt;AUTHOR&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;YOUR NAME&amp;#39;&lt;/span&gt;
&lt;span class="n"&gt;SITENAME&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;YOUR SITE NAME&amp;#39;&lt;/span&gt;
&lt;span class="n"&gt;SITEURL&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;http://your-site.com&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;For the purposes of setting up a blog on Pelican, you will want to set &lt;code&gt;DEFAULT_PAGINATION&lt;/code&gt; to be the (number of posts)/page and &lt;code&gt;DEFAULT_ORPHANS&lt;/code&gt; as the largest remainder of posts you'll allow on your last page. For my setup, I selected 5 posts/page, and no more than 3 posts on the last page (so up to 8 posts on the last page).&lt;/p&gt;
&lt;p&gt;You can browse over all my selected settings &lt;a href="https://github.com/stoneG/blarg/blob/master/settings.py"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Making it yours&lt;/h2&gt;
&lt;p&gt;Now, you can certainly use the &lt;a href="https://github.com/getpelican/pelican-themes/blob/master/notmyidea-cms-fr/screenshot.png"&gt;default theme&lt;/a&gt; provided by Pelican, or one of their other &lt;a href="https://github.com/getpelican/pelican-themes/blob/master/waterspill/screenshot.png"&gt;sample themes&lt;/a&gt;, but I prefer to make a theme that suits my own tastes. Reading the Pelican documentation and working through the quickstart guide took up half of my weekend, which means I spent the other half on designing my theme.&lt;/p&gt;
&lt;p&gt;You'll need some familiarity with &lt;a href="http://jinja.pocoo.org/docs/"&gt;Jinja2&lt;/a&gt; templates. At the minimum, you should read about the conditionals/loop syntax (especially loop attributes) and template inheritance (include and block). I believe Jinja2's templating system is similar to Django's, so you should feel at home if that's your forte.&lt;/p&gt;
&lt;p&gt;Pelican is specific about what file structure it wants in a custom theme. The &lt;a href="http://docs.getpelican.com/en/3.1.1/themes.html"&gt;documentation&lt;/a&gt; outlines the structure, but doesn't give you adequate information on what attributes you can access from variable objects. If you need specific functionality beyond what objects and object attributes others have done in the sample themes, you'll probably just need to read through the Pelican source or ask some questions in their IRC channel.&lt;/p&gt;
&lt;p&gt;I ended up starting with the default theme (called: notmyidea) templates and stripping it of everything I didn't want to use. For instance, I had no need for the category and author functionalities. I don't want to categorize posts and I'll be the only author on this blog, therefore, I did not supply:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="n"&gt;categories&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;html&lt;/span&gt;
&lt;span class="n"&gt;category&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;html&lt;/span&gt;
&lt;span class="n"&gt;author&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;html&lt;/span&gt;
&lt;span class="n"&gt;authors&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;html&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Pelican is smart enough to just use it's base templates from the Simple theme if you don't provide all the desired html templates.&lt;/p&gt;
&lt;p&gt;You will, however, want to make the basic html frame for your blog and save it as &lt;code&gt;base.html&lt;/code&gt;, as all other html templates will inherit from it. Otherwise, use the default theme's templates as a guide for building your custom templates.&lt;/p&gt;
&lt;p&gt;Once you have your html templates set, you'll want to work on the CSS, which you will save in &lt;code&gt;static/css&lt;/code&gt; folder.&lt;/p&gt;
&lt;p&gt;The theme for this blog is &lt;a href="https://github.com/stoneG/blarg/tree/master/themes/sitong"&gt;here&lt;/a&gt;. Please give me a shoutout in the footer if you want to use it ;).&lt;/p&gt;
&lt;h2&gt;Workflow&lt;/h2&gt;
&lt;p&gt;So once you have your theme, you're ready to create content! I host my pages on &lt;a href="http://pages.github.com/"&gt;Github Pages&lt;/a&gt;, but you choose your own host.&lt;/p&gt;
&lt;p&gt;Let's go through how I am publishing this post. First I write it (in vim!) and save it in my content folder, which stores all my posts for this year.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;2013&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;trying&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;out&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;static&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;blog&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;thing&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;md&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;I like to move out to the root of my Blog folder, then run Pelican to update all my static pages.&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;$ &lt;span class="n"&gt;pelican&lt;/span&gt; &lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;2013&lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;settings&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The new static pages will be placed in&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;&lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;but you can always change that path in your &lt;code&gt;settings.py&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Then I simply &lt;code&gt;$ git add .&lt;/code&gt; in my output folder, throw on a commit message, then push it to Github.&lt;/p&gt;
&lt;h2&gt;Final thoughts&lt;/h2&gt;
&lt;p&gt;The entire set up process takes a bit of time, especially if you're making your own theme, but it's always nice to have ownership over your own content. That's just something you don't get on Tumblr or other browser based blogs. Pelican is an awesome option for anyone looking for a static blog generator and wanting to work in Python, I heartily recommend it.&lt;/p&gt;</summary><category term="static blog"></category><category term="pelican"></category><category term="python"></category><category term="the architect"></category><category term="jinja2"></category></entry><entry><title>On to better things</title><link href="http://blog.sitongpeng.com/posts/on-to-better-things.html" rel="alternate"></link><updated>2013-01-06T18:00:00-08:00</updated><author><name>Sitong Peng</name></author><id>tag:blog.sitongpeng.com,2013-01-06:posts/on-to-better-things.html</id><summary type="html">&lt;p&gt;Pretty odd to have committed to writing 100 meaningful blog posts this year, and then promptly not post until Jan 6th. But as you can tell, my excuse is that I was spending all weekend building my new blog. Well I'm glad to say, &lt;em&gt;&lt;a href="http://blog.sitongpeng.com"&gt;here it is&lt;/a&gt;&lt;/em&gt;.  &lt;/p&gt;
&lt;p&gt;I'm now running on the static site generator, &lt;a href="http://docs.getpelican.com/"&gt;Pelican&lt;/a&gt;. It's awesome because it is actively developed (version 3.1.1 as of 12/4/12) and it is written in Python, which means I didn't have to default to &lt;a href="http://jekyllrb.com/"&gt;Jekyll&lt;/a&gt;. It's not that I'm averse to Jekyll, I'd just rather work in the language I'm most comfortable in (&lt;em&gt;not Ruby&lt;/em&gt;). Anyways, things I'm most excited about:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Writing all my posts in Markdown&lt;/li&gt;
&lt;li&gt;Being hosted on Github Pages&lt;/li&gt;
&lt;li&gt;Having all my posts saved on my Dropbox&lt;/li&gt;
&lt;li&gt;New syntax highlighting color scheme&lt;/li&gt;
&lt;li&gt;Actually using my own domain&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I'm planning on writing about my experience building this blog in a post later this week. Stay tuned.&lt;/p&gt;
&lt;p&gt;(find old posts on my &lt;a href="http://hellositong.tumblr.com"&gt;tumblr&lt;/a&gt;)&lt;/p&gt;</summary><category term="pelican"></category><category term="new"></category><category term="github pages"></category><category term="jinja2"></category><category term="python"></category><category term="tumblr"></category></entry><entry><title>Programming Resolutions</title><link href="http://blog.sitongpeng.com/posts/programming-resolutions.html" rel="alternate"></link><updated>2013-01-02T19:23:00-08:00</updated><author><name>Sitong Peng</name></author><id>tag:blog.sitongpeng.com,2013-01-02:posts/programming-resolutions.html</id><summary type="html">&lt;p&gt;Last year was the first year in a long time that I did not make any
resolutions over the year. Id like to get back to it this year, with a
few that I should be able to keep.&lt;/p&gt;
&lt;/p&gt;&lt;ol class="arabic simple"&gt;
&lt;li&gt;Articulation: 100 posts about programming things Ive encountered and want to share.&lt;/li&gt;
&lt;li&gt;Get involved: Contribute a couple patches or a bug fix to an open source project.&lt;/li&gt;
&lt;li&gt;Push myself: Do a weekend project and get it on the front page of HN.&lt;/li&gt;
&lt;li&gt;Read more books: I need to expand my knowledge beyond just reading the news and blogs.&lt;/li&gt;
&lt;/ol&gt;
&lt;/p&gt;&lt;p&gt;Heres to a great 2013!&lt;/p&gt;
&lt;/p&gt;</summary><category term="resolutions"></category><category term="2013"></category><category term="2012"></category><category term="programming"></category><category term="open source"></category><category term="blog"></category><category term="weekend project"></category><category term="hacker news"></category></entry></feed>