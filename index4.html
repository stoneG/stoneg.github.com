<!DOCTYPE html>
<html lang="en">
<head>
        <title>spearhead</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="/theme/css/main.css" type="text/css" />
        <link href="http://blog.sitongpeng.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="spearhead Atom Feed" />
        <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700,400italic,700italic|Droid+Sans+Mono|Merriweather:400,300,700' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="/theme/css/highlight.css">

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://blog.sitongpeng.com/css/ie.css"/>
                <script src="http://blog.sitongpeng.com/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://blog.sitongpeng.com/css/ie6.css"/><![endif]-->

</head>

<body>

    <header id="sidebar">
        <div class="bounds">
            <a href="https://twitter.com/stoneGksp" target="_blank"><img class="face" src="https://raw.github.com/stoneG/stoneg.github.com/master/images/face.jpg"></a>
            <h1><a href="http://blog.sitongpeng.com/">spearhead</a></h1>
            <p>writings about code discovery</p>
                <ul>
                    <li><a href="http://blog.sitongpeng.com/index.html">Home</a></li>
                    <li><a href="http://www.sitongpeng.com/about.html">About</a></li>
                    <li><a href="http://blog.sitongpeng.com/archives.html">Archives</a></li>
                    <li><a href="http://blog.sitongpeng.com/tags.html">Tags</a></li>
                    <li><a href="http://blog.sitongpeng.com/feeds/all.atom.xml">Atom</a></li>
                    <li></li>
                            <li><a href="http://twitter.com/stoneGksp">Twitter</a></li>
                            <li><a href="https:/github.com/stoneG">Github</a></li>
                </ul>
        </div>
    </header>

    <section id="main">

        <header>
            <h1><a href="http://blog.sitongpeng.com/posts/programming-resolutions.html" rel="bookmark"
                   title="Permalink to Programming Resolutions">Programming Resolutions</a></h1>
<p class="date">Wednesday, January 02, 2013</p>        </header>
        <article>
            <p>Last year was the first year in a long time that I did not make any
resolutions over the year. I’d like to get back to it this year, with a
few that I should be able to keep.</p>
</p><ol class="arabic simple">
<li>Articulation: 100 posts about programming things I’ve encountered and want to share.</li>
<li>Get involved: Contribute a couple patches or a bug fix to an open source project.</li>
<li>Push myself: Do a weekend project and get it on the front page of HN.</li>
<li>Read more books: I need to expand my knowledge beyond just reading the news and blogs.</li>
</ol>
</p><p>Here’s to a great 2013!</p>
</p>
    <p class="comments">
        <a href="http://blog.sitongpeng.com/posts/programming-resolutions.html#disqus_thread"></a>.
    </p>
    <p class="tags">
            <a href="http://blog.sitongpeng.com/tag/resolutions.html">[resolutions]</a>
            <a href="http://blog.sitongpeng.com/tag/2013.html">[2013]</a>
            <a href="http://blog.sitongpeng.com/tag/2012.html">[2012]</a>
            <a href="http://blog.sitongpeng.com/tag/programming.html">[programming]</a>
            <a href="http://blog.sitongpeng.com/tag/open-source.html">[open source]</a>
            <a href="http://blog.sitongpeng.com/tag/blog.html">[blog]</a>
            <a href="http://blog.sitongpeng.com/tag/weekend-project.html">[weekend project]</a>
            <a href="http://blog.sitongpeng.com/tag/hacker-news.html">[hacker news]</a>
    </p>
        </article>

        <header>
            <h1><a href="http://blog.sitongpeng.com/posts/project-euler-6.html" rel="bookmark"
                   title="Permalink to Project Euler 6">Project Euler 6</a></h1>
<p class="date">Tuesday, December 18, 2012</p>        </header>
        <article>
            <p>You are asked to find the difference between the square of the sum and
the sum of the squares of the first 100 natural numbers. So: (1 + 2 + …
+ 99 + 100)^2 - (1^2 + 2^2 + … + 99^2 + 100^2).</p>
<p>This is trivially easy to brute force on a computer, especially with the
<tt class="docutils literal">range(1,101)</tt> function in python. Two loops will get you a solution
in practically no time. Alternatively, a reduce and a map &amp; reduce will
get you there in no time too.</p>
<p>However, this problem is actually probably faster to just do by hand. To
the best of my knowledge, this is the first one of the Project Euler
problems that is like this. You just need to be familiar with two famous
series in mathematics. I have the 1 + 2 + … + 99 + 100 series
internalized, it is simply n(n+1)/2. I had to look up the 1^2 + 2^2 + …
+ 99^2 + 100^2 power series, but the formula is n(n+1)(2n+1)/6. Here’s
the code I wrote since I wanted something I could save in my Project
Euler folder.</p>
<p><pre class="literal-block">
# Two famous seriesdef sum_of_squares(n):    return (n)*(n+1)*(2*n+1)/6def square_of_sum(n):    return (n*(n+1)/2)**2def main(n):    return sum_of_squares(n) - square_of_sum(n)
</pre>
</p></p>
    <p class="comments">
        <a href="http://blog.sitongpeng.com/posts/project-euler-6.html#disqus_thread"></a>.
    </p>
    <p class="tags">
            <a href="http://blog.sitongpeng.com/tag/project-euler-6.html">[project euler 6]</a>
            <a href="http://blog.sitongpeng.com/tag/python.html">[python]</a>
            <a href="http://blog.sitongpeng.com/tag/sum-of-squares.html">[sum of squares]</a>
            <a href="http://blog.sitongpeng.com/tag/square-of-sum.html">[square of sum]</a>
            <a href="http://blog.sitongpeng.com/tag/math.html">[math]</a>
            <a href="http://blog.sitongpeng.com/tag/map.html">[map]</a>
            <a href="http://blog.sitongpeng.com/tag/reduce.html">[reduce]</a>
            <a href="http://blog.sitongpeng.com/tag/loops.html">[loops]</a>
    </p>
        </article>

        <header>
            <h1><a href="http://blog.sitongpeng.com/posts/html-checkbox-form-gotcha.html" rel="bookmark"
                   title="Permalink to HTML Checkbox Form Gotcha">HTML Checkbox Form Gotcha</a></h1>
<p class="date">Monday, December 17, 2012</p>        </header>
        <article>
            <p>I’ve been working on implementing a toy web app on <a class="reference external" href="http://flask.pocoo.org/">Flask</a>. It’s been
very straightforward so far, the work I did on my WSGI server was a good
stepping stone into this WSGI framework. I just stumbled upon something
I will refer to as a HTML Checkbox Form Gotcha. HTMLCFG? So basically, I
am building the login page for the web app and I have a checkbox that I
wanted to be a boolean for whether the user was registering for the
first time or just logging in normally.</p>
<p><pre class="literal-block">
&lt;input name=&quot;register&quot; type=&quot;checkbox&quot; value=&quot;true&quot; /&gt;
</pre>
</p><p>Then, I would use the following code in Flask access the state of the
checkbox:</p>
<p><pre class="literal-block">
if request.form['register']:# do stuff
</pre>
</p><p>However, I kept getting a HTTP 400 Bad Request. After some sleuthing, it
turns out that POST requests don’t include unchecked checkboxes. So
there is no <tt class="docutils literal"><span class="pre">request.form['register']</span></tt> entry if the checkbox isn’t
checked by the user before submission. Here’s how I ended up working
around it.</p>
<p><pre class="literal-block">
registering = Falseif 'register' in request.form:    # do register logicelse:    # do normal login logic
</pre>
</p></p>
    <p class="comments">
        <a href="http://blog.sitongpeng.com/posts/html-checkbox-form-gotcha.html#disqus_thread"></a>.
    </p>
    <p class="tags">
            <a href="http://blog.sitongpeng.com/tag/gotcha.html">[gotcha]</a>
            <a href="http://blog.sitongpeng.com/tag/html.html">[html]</a>
            <a href="http://blog.sitongpeng.com/tag/checkbox.html">[checkbox]</a>
            <a href="http://blog.sitongpeng.com/tag/python.html">[python]</a>
            <a href="http://blog.sitongpeng.com/tag/flask.html">[flask]</a>
            <a href="http://blog.sitongpeng.com/tag/http-400.html">[http 400]</a>
            <a href="http://blog.sitongpeng.com/tag/post.html">[post]</a>
    </p>
        </article>

        <header>
            <h1><a href="http://blog.sitongpeng.com/posts/project-euler-5.html" rel="bookmark"
                   title="Permalink to Project Euler 5">Project Euler 5</a></h1>
<p class="date">Monday, December 17, 2012</p>        </header>
        <article>
            <p>2520 is the smallest number that can be divided by each of the numbers
from 1 to 10 without any remainder. What is the smallest positive number
that is evenly divisible by all of the numbers from 1 to 20?</p>
<p>I’ve found that I usually want to solve these problems using a more
functional programming style. For instance, my solution uses uses a
recursive <strong>prime_factorization</strong> helper function and reduce. But then
again, it also uses iterative loops, but only because I didn’t feel like
keeping track of the laundry list of factors recursively :). Anyways,
the format of my solution is as such:</p>
<ul class="simple">
<li>Initial notes about the problem</li>
<li>General solution for any positive integer n.</li>
</ul>
<p><pre class="literal-block">
# 1, 2, 3, 4, 5, 6, 7, 8, 9, 10# Basically 2520 = product of the prime factors of the above numbers# So... 2520 = 2*3*2*5*7*2*3# A general solution would check if the prime factorization of some 'n'# is already in the set of prime factorizations from the 'n-1' term.def prime_factorization(num, divisor=2):    &quot;&quot;&quot;Given an non-neg int num, return the prime factorization in a list.&quot;&quot;&quot;    if num &lt; 2:        return [num]    elif num % divisor:        divisor += 1        return prime_factorization(num, divisor)    else:        return prime_factorization(num/divisor, divisor) + [divisor]def product(a, b):    &quot;&quot;&quot;Returns a * b.&quot;&quot;&quot;    return a * bdef super_product(num):    &quot;&quot;&quot;Given an integer num, find the smallest positive number that is    divisible by all integers [1, num].    &quot;&quot;&quot;    factors = []    while num &gt; 1:        pf = prime_factorization(num)        for factor in pf:            try:                factors.remove(factor)            except ValueError:                continue        factors += pf        num -= 1    return reduce(product, factors)
</pre>
</p></p>
    <p class="comments">
        <a href="http://blog.sitongpeng.com/posts/project-euler-5.html#disqus_thread"></a>.
    </p>
    <p class="tags">
            <a href="http://blog.sitongpeng.com/tag/project-euler-5.html">[project euler 5]</a>
            <a href="http://blog.sitongpeng.com/tag/prime-factorization.html">[prime factorization]</a>
            <a href="http://blog.sitongpeng.com/tag/functional-programming.html">[functional programming]</a>
            <a href="http://blog.sitongpeng.com/tag/recursion.html">[recursion]</a>
            <a href="http://blog.sitongpeng.com/tag/python.html">[python]</a>
    </p>
        </article>

        <header>
            <h1><a href="http://blog.sitongpeng.com/posts/on-generators-and-len.html" rel="bookmark"
                   title="Permalink to On generators and len">On generators and len</a></h1>
<p class="date">Wednesday, December 05, 2012</p>        </header>
        <article>
            <p>So one of the WSGI server specifications is that if a WSGI application
doesn’t supply the Content-Length response header, it is the job of the
WSGI server to try to determine the Content-Length of the response body
(if possible). This is straightforward enough for the average WSGI app,
which will return the response body in a list object. However, WSGI apps
also have the option of using a generator to return the response body
(since the specification only requires that the app return is an
iterable).</p>
<div class="section" id="so-can-we-apply-the-len-function-to-the-output-of-a-generator">
<h2>So can we apply the len function to the output of a generator?</h2>
</p><p>The answer is no. Generators are simple constructs that just yield
values when you iterate on them, immediately passing output along. And
since generators keep no memory of past generated values, they have no
idea what the length of their output is or will be. Therefore they don’t
have a len attribute.</p>
</div>
<div class="section" id="so-how-do-we-send-the-client-the-content-length-if-the-app-is-a-generator">
<h2>So how do we send the client the Content-Length if the app is a generator?</h2>
</p><p>Well, in HTTP/1.1, some servers and clients support the chunked transfer
coding. This allows servers to send response bodies in chunks, as they
are available. Each chunk will have it’s own Content-Length. I hope to
support chunked transferring in <a class="reference external" href="https://github.com/stoneG/whiskey">whiskey</a>, so I can always provide a
Content-Length. I’ll be sure to post about my implementation.</p>
</div>

    <p class="comments">
        <a href="http://blog.sitongpeng.com/posts/on-generators-and-len.html#disqus_thread"></a>.
    </p>
    <p class="tags">
            <a href="http://blog.sitongpeng.com/tag/whiskey.html">[whiskey]</a>
            <a href="http://blog.sitongpeng.com/tag/python.html">[python]</a>
            <a href="http://blog.sitongpeng.com/tag/http.html">[http]</a>
            <a href="http://blog.sitongpeng.com/tag/generators.html">[generators]</a>
            <a href="http://blog.sitongpeng.com/tag/len.html">[len]</a>
            <a href="http://blog.sitongpeng.com/tag/wsgi.html">[wsgi]</a>
            <a href="http://blog.sitongpeng.com/tag/content-length.html">[content-length]</a>
            <a href="http://blog.sitongpeng.com/tag/server.html">[server]</a>
            <a href="http://blog.sitongpeng.com/tag/client.html">[client]</a>
            <a href="http://blog.sitongpeng.com/tag/response.html">[response]</a>
    </p>
        </article>
<p class="paginator">
            <a href="http://blog.sitongpeng.com/index3.html">&lt;&lt;</a>
    Page 4 / 7
        <a href="http://blog.sitongpeng.com/index5.html">&gt;&gt;</a>
</p>
        <footer>
        Awesomeness powered by <a href="http://getpelican.com/">Pelican</a> and <a href="http://jinja.pocoo.org/docs/">Jinja2</a>.
        </footer>
    </section>

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37415854-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'sitong-blog';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>