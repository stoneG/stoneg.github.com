<!DOCTYPE html>
<html lang="en">
<head>
        <title>spearhead - Articles by Sitong Peng</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="/theme/css/main.css" type="text/css" />
                <link href="http://blog.sitongpeng.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="spearhead Atom Feed" />
                        <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700,400italic,700italic|Droid+Sans+Mono|Merriweather:400,300,700' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="/theme/css/highlight.css">

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="../css/ie.css"/>
                <script src="../js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="../css/ie6.css"/><![endif]-->

</head>

<body>

    <header id="sidebar">
        <div class="bounds">
                        <h1><a href="../">spearhead</a></h1>
            <p>writings about code discovery</p>
                <ul>
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="http://www.sitongpeng.com/about.html">About</a></li>
                    <li><a href="../archives.html">Archives</a></li>
                    <li><a href="../tags.html">Tags</a></li>
                                                                        <li><a href="http://twitter.com/stoneGksp">Twitter</a></li>
                                                    <li><a href="https:/github.com/stoneG">Github</a></li>
                                                            </ul>
        </div>
    </header>

    <section id="main">
            
                <header>
            <h1><a href="../posts/bit-manipulation-fun.html" rel="bookmark"
                   title="Permalink to Bit manipulation fun">Bit manipulation fun</a></h1>
        <p class="date">Wednesday, January 30, 2013</p>        </header>
        <article>
            <p>So while I was working on interview prep, I got a bit curious about what cool ways bit manipulation might alter the way we might write code. Here's a few examples of short functions you can write using only bit operations.</p>
<h2>Simple stuff first</h2>
<p>The following trick may be standard fare but seeing as I am not a "classically" trained programmer (no degree in computer science), this guy did tickle my fancy.</p>
<p>When you write out a integer in a binary representation, 5 as <code>0101</code> for example, the least significant bit (leftmost bit) represents if the integer is odd or even. Of course, bits further left represent powers of two, hence the term "base two".</p>
<div class="codehilite"><pre>0101 <span class="n">is</span> 0<span class="o">*</span><span class="p">(</span>2^3<span class="p">)</span> <span class="o">+</span> 1<span class="o">*</span><span class="p">(</span>2^2<span class="p">)</span> <span class="o">+</span> 0<span class="o">*</span><span class="p">(</span>2^1<span class="p">)</span> <span class="o">+</span> 1<span class="o">*</span><span class="p">(</span>2^0<span class="p">)</span>
     <span class="n">or</span> 0<span class="o">*</span>8 <span class="o">+</span> 1<span class="o">*</span>4 <span class="o">+</span> 0<span class="o">*</span>2 <span class="o">+</span> 1<span class="o">*</span>1
     <span class="n">or</span> 5
</pre></div>


<p>Anyone can write a simple function that tests if a given integer <code>x</code> is even. Usually it will involve checking to see if <code>x</code> mod 2 is 0.</p>
<div class="codehilite"><pre><span class="k">def</span> <span class="nf">is_even</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">x</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
</pre></div>


<p>But, given that least significant bit of a binary value represents odd or even, we can write that same <code>is_even</code> function using the <code>AND</code> bit operation. </p>
<div class="codehilite"><pre><span class="k">def</span> <span class="nf">is_even</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">x</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
</pre></div>


<p>For example 6 &amp; 1 is 0.</p>
<div class="codehilite"><pre>  <span class="m">0110</span>  <span class="o">&lt;--</span> <span class="m">6</span>
<span class="o">&amp;</span> <span class="m">0001</span>  <span class="o">&lt;--</span> <span class="m">1</span>
<span class="o">======</span>
  <span class="m">0000</span>
</pre></div>


<p>This ends up being the same amount of typing but it's interesting that we have this second option of writing the <code>is_even</code> function.</p>
<h2>Powerful twos</h2>
<p>If you work on <a href="http://projecteuler.net/">Project Euler</a> problems frequently, the following shortcut might be beneficial to keep in mind. Here's a function that checks if <code>x</code> is a power of two.</p>
<div class="codehilite"><pre><span class="k">def</span> <span class="nf">is_power_of_two</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="n">power_of_two</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="k">while</span> <span class="n">power_of_two</span> <span class="o">&lt;</span> <span class="n">x</span><span class="p">:</span>
        <span class="n">power_of_two</span> <span class="o">*=</span> <span class="mi">2</span>
    <span class="k">return</span> <span class="n">power_of_two</span> <span class="o">==</span> <span class="n">x</span>
</pre></div>


<p>That's pretty compact but it turns out binary is well suited to figure out if a number is a power of two.</p>
<div class="codehilite"><pre><span class="k">def</span> <span class="nf">is_power_of_two</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">x</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span> <span class="o">==</span> <span class="mi">0</span>
</pre></div>


<p>Let's see this in action with <code>x</code> as some random binary number:</p>
<div class="codehilite"><pre>  <span class="m">010110000</span>  <span class="o">&lt;--</span> x
<span class="o">-</span> <span class="m">000000001</span>
<span class="o">===========</span>
  <span class="m">010101111</span>  <span class="o">&lt;--</span> x<span class="o">-</span><span class="m">1</span>
<span class="o">&amp;</span> <span class="m">010110000</span>
<span class="o">===========</span>
  <span class="m">010100000</span>  <span class="o">&lt;--</span> x <span class="o">&amp;</span> <span class="p">(</span>x<span class="o">-</span><span class="m">1</span><span class="p">)</span>

So<span class="p">,</span> <span class="p">(</span>x <span class="o">&amp;</span> <span class="p">(</span>x<span class="o">-</span><span class="m">1</span><span class="p">))</span> just removed the left<span class="o">-</span>most bit that was equal to <span class="m">1.</span> But then<span class="p">,</span> when might <span class="p">(</span>x <span class="o">&amp;</span> <span class="p">(</span>x<span class="o">-</span><span class="m">1</span><span class="p">))</span> be <span class="m">0</span>? That would only happen when x has only one <span class="m">1</span> bit<span class="p">,</span> which means that x must be a power of <span class="m">2.</span>
</pre></div>


<h2>Swapping in place</h2>
<p>Python is nice in that you never have to use a temporary variable when you want to do variable swaps. This is, of course, not the same in other languages.</p>
<div class="codehilite"><pre><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span>
</pre></div>


<p>Behind the scenes, Python accesses the values of <code>y</code> and <code>x</code>, then rotates them as it unpacks and assigns to <code>x</code> and <code>y</code>. Here's what that looks like when run through the Python disassembler:</p>
<div class="codehilite"><pre><span class="kn">import</span> <span class="nn">dis</span>

<span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
    <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">b</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span>
    <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span>

<span class="n">dis</span><span class="o">.</span><span class="n">dis</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="o">&gt;</span>
<span class="o">&gt;</span>  <span class="mi">3</span>           <span class="mi">0</span> <span class="n">LOAD_CONST</span>               <span class="mi">1</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="o">&gt;</span>              <span class="mi">3</span> <span class="n">STORE_FAST</span>               <span class="mi">0</span> <span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="o">&gt;</span>
<span class="o">&gt;</span>  <span class="mi">4</span>           <span class="mi">6</span> <span class="n">LOAD_CONST</span>               <span class="mi">2</span> <span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="o">&gt;</span>              <span class="mi">9</span> <span class="n">STORE_FAST</span>               <span class="mi">1</span> <span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="o">&gt;</span>
<span class="o">&gt;</span>  <span class="mi">5</span>          <span class="mi">12</span> <span class="n">LOAD_FAST</span>                <span class="mi">0</span> <span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="o">&gt;</span>             <span class="mi">15</span> <span class="n">LOAD_FAST</span>                <span class="mi">1</span> <span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="o">&gt;</span>             <span class="mi">18</span> <span class="n">ROT_TWO</span>             
<span class="o">&gt;</span>             <span class="mi">19</span> <span class="n">STORE_FAST</span>               <span class="mi">0</span> <span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="o">&gt;</span>             <span class="mi">22</span> <span class="n">STORE_FAST</span>               <span class="mi">1</span> <span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="o">&gt;</span>
<span class="o">&gt;</span>  <span class="mi">6</span>          <span class="mi">25</span> <span class="n">LOAD_FAST</span>                <span class="mi">1</span> <span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="o">&gt;</span>             <span class="mi">28</span> <span class="n">LOAD_FAST</span>                <span class="mi">0</span> <span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="o">&gt;</span>             <span class="mi">31</span> <span class="n">ROT_TWO</span>             
<span class="o">&gt;</span>             <span class="mi">32</span> <span class="n">STORE_FAST</span>               <span class="mi">0</span> <span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="o">&gt;</span>             <span class="mi">35</span> <span class="n">STORE_FAST</span>               <span class="mi">1</span> <span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="o">&gt;</span>             <span class="mi">38</span> <span class="n">LOAD_CONST</span>               <span class="mi">0</span> <span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="o">&gt;</span>             <span class="mi">41</span> <span class="n">RETURN_VALUE</span> 
</pre></div>


<p>But, did you know we can actually swap without a temporary variable using <code>XOR</code> too.</p>
<div class="codehilite"><pre><span class="n">x</span> ^<span class="p">=</span> <span class="n">y</span>
<span class="n">y</span> ^<span class="p">=</span> <span class="n">x</span>
<span class="n">x</span> ^<span class="p">=</span> <span class="n">y</span>
</pre></div>


<p>To understand what's happening, you should recall that <code>XOR</code> is commutative, <code>x^x</code> is 0, and <code>x^0</code> is <code>x</code>. Let's break down the <a href="http://en.wikipedia.org/wiki/XOR_swap_algorithm">XOR Swap Algorithm</a> again.</p>
<div class="codehilite"><pre><span class="gh">start   -&gt;  breaking down  -&gt;  commuting      -&gt;  cancelling -&gt;  removing 0&#39;s</span>
<span class="gh">=============================================================================</span>
x ^= y  -&gt;  x = x^y
y ^= x  -&gt;  y = y^x^y      -&gt;  y = x^y^y      -&gt;  y = x^0    -&gt;  y = x
x ^= y  -&gt;  x = x^y^y^x^y  -&gt;  x = x^x^y^y^y  -&gt;  x = 0^y^0  -&gt;  x = y
</pre></div>


<p>That's pretty cool but I'll stick to Python's easy swap. It is nice, however, to see how binary manipulation can be used to our advantage in languages that don't have an in-place swap.</p>
<p>Now for the disclaimer. While the XOR swap is pretty nifty, it doesn't have much practical use. If you actually plan on using it in the real world, hopefully your application fits in one of <a href="http://en.wikipedia.org/wiki/XOR_swap_algorithm#Reasons_for_use_in_practice">these</a> buckets. Turns out, optimizing compilers tend to make temporary variable swaps pretty efficient, often faster than this XOR swap.</p>
<p><span id="note">Have any more bit manipulation tricks you'd like to share? Leave me a comment, I'd love to see more in action.</span></p>
                <p class="comments">
        <a href="../posts/bit-manipulation-fun.html#disqus_thread"></a>.
    </p>
                <p class="tags">
                    <a href="../tag/bit-manipulation.html">[bit manipulation]</a>
                    <a href="../tag/binary.html">[binary]</a>
                    <a href="../tag/tricks.html">[tricks]</a>
                    <a href="../tag/python.html">[python]</a>
                    <a href="../tag/algorithms.html">[algorithms]</a>
            </p>
        </article>
            
                <header>
            <h1><a href="../posts/i-am-a-real-vim-user-today.html" rel="bookmark"
                   title="Permalink to I am a real Vim user today">I am a real Vim user today</a></h1>
        <p class="date">Thursday, January 10, 2013</p>        </header>
        <article>
            <p>There comes a point, usually after you've been using something for awhile, when you realize you are no longer just using it casually. <strong><em>And no, I'm not talking about drugs.</em></strong>I'm talking about defining my first shortcut key in my <code>.vimrc</code>.</p>
<h2>A little background</h2>
<p>I was first introduced to <a href="http://www.vim.org/">Vim</a> by my <a href="http://www.hackerschool.com">Hacker School</a> buddy <a href="http://www.jamesshieh.com">James</a>. For those of you who don't know, Vim is a very peculiar text editor. It is an "improved" version of <a href="http://ex-vi.sourceforge.net/">Vi</a>, the de facto Unix editor. Vim allows for a very efficient coding experience in which your hands generally never have to leave their main resting positions on the keyboard. And unlike editors (see <a href="http://www.gnu.org/software/emacs/">Emacs</a>), Vim makes heavy usage of different input modes to separate document navigation, inserting content, and text selection. This makes for a steep initial learning curve, as the default mode in Vim is mostly navigational, which is a farcry from the style of most word processors (hjkl actually mean hjkl, not left down up right).</p>
<h2>Word Wrap</h2>
<p>So I was excited to be able to write these blog posts using Vim since I've gotten quite good and fast at using it. However, I quickly realized that a text editor that primarily displays lines of code needs a bit of work to properly display words and sentences.</p>
<p>For instance, here's what I was seeing everytime I wrote a paragraph of text:</p>
<div class="codehilite"><pre>This is a medium paragraph of text. Everything is all fine and dandy until you
 get to the end of the line. Then, whatever text you just wrote gets cut off p
recisely when you reach the column width of your Vim window. This leads to awk
ward and hard to read paragraphs!
</pre></div>


<p>So, after a bit of research, I threw this into my <code>.vimrc</code> file.</p>
<div class="codehilite"><pre><span class="c">&quot; F5 word wrap mode (great for writing blog posts!)</span>
<span class="k">set</span> <span class="nb">wrap</span>
<span class="nb">nnoremap</span> <span class="p">&lt;</span>F5<span class="p">&gt;</span> :<span class="k">set</span> <span class="nb">linebreak</span><span class="p">&lt;</span>CR<span class="p">&gt;</span>
<span class="nb">nnoremap</span> <span class="p">&lt;</span>C<span class="p">-</span>F5<span class="p">&gt;</span> :<span class="k">set</span> <span class="nb">nolinebreak</span><span class="p">&lt;</span>CR<span class="p">&gt;</span>
</pre></div>


<p>The first line turns the <code>wrap</code> option on. The second line binds <code>:set linebreak&lt;CR&gt;</code> to <code>F5</code> in normal mode. The last line binds the reverse to <code>Ctrl</code> + <code>F5</code>. <code>&lt;CR&gt;</code> is a carriage return, otherwise known as the <code>enter</code> or <code>return</code> button.</p>
<p>So hitting <code>F5</code> in normal mode effectively types out <code>:set linebreak</code> then hits <code>enter</code> for you, rendering much more readable text for when you are not just writing code!</p>
<div class="codehilite"><pre>This is a medium paragraph of text. Everything is all fine and dandy until
you get to the end of the line. Then, whatever text you just wrote gets cut
off precisely when you reach the column width of your Vim window. This
leads to awkward and hard to read paragraphs!
</pre></div>


<p><span id="note">For those of you that are curious, Vim will automatically break the line as soon as it encounters any of these characters <code>^I !@*-+;:,./?</code>. You can change that default by redefining the <code>breakat</code> option. See <a href="http://vim.wikia.com/wiki/Word_wrap_without_line_breaks">here</a> for details.</span></p>
                <p class="comments">
        <a href="../posts/i-am-a-real-vim-user-today.html#disqus_thread"></a>.
    </p>
                <p class="tags">
                    <a href="../tag/vim.html">[vim]</a>
                    <a href="../tag/vimrc.html">[vimrc]</a>
                    <a href="../tag/shortcut.html">[shortcut]</a>
                    <a href="../tag/emacs.html">[emacs]</a>
                    <a href="../tag/word-wrap.html">[word wrap]</a>
                    <a href="../tag/blog.html">[blog]</a>
                    <a href="../tag/hacker-school.html">[hacker school]</a>
            </p>
        </article>
            
                <header>
            <h1><a href="../posts/i-moved-your-stuff-but-dont-freak-out-cuz-i-left-behind-a-symlink.html" rel="bookmark"
                   title="Permalink to I moved your stuff but don't freak out cuz I left behind a symlink">I moved your stuff but don't freak out cuz I left behind a symlink</a></h1>
        <p class="date">Saturday, June 29, 2013</p>        </header>
        <article>
            <p><span id="note">Learning new <em>nix-craft is kinda like being handed shiny new electronics. You're instantly intrigued with what new stuff you can do with it. This entry is the first in a series about </em>nix-craft.</span></p>
<p>I'm not sure when I first heard of <a href="http://en.wikipedia.org/wiki/Symbolic_link">symlinking</a>, but the first time it hit me as "something I should get acquainted with" was while I was reading <a href="http://dotfiles.github.io/">dotfiles.github.io</a>. Context clues provided me with the idea that to symlink was to leave a little note to your OS about where you moved the file it expected to find there.</p>
<p>So, as I had endeavored to clean my virtual <code>$HOME</code> of dotfiles, it became apparent that I needed to get familiar with symlinks.</p>
<h2>Leaving a note</h2>
<p>To create a symlink, you'd type this into your terminal:</p>
<div class="codehilite"><pre><span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">target</span> <span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">link</span>
</pre></div>


<p>In English, this reads as:
Create a symlink at <code>path/to/link</code> that redirects to <code>path/to/target</code>.</p>
<h2>Reading the note</h2>
<p>Most programs play nicely with <code>symlinks</code>. For instance, if you were to symlink your <code>~/.vimrc</code> to <code>~/dotfiles/vim/.vimrc</code>, Vim would access <code>~/.vimrc</code> but would end up reading from <code>~/dotfiles/vim/.vimrc</code> instead. It's kind of like a HTTP 302 that redirects you to another URI, or in our case, another path on your filesystem. Microsoft Windows users might find symlinks to be similar to shortcuts. They're essentially the same thing with the caveat that Windows programs would unfortunately get cranky if you tried to pass the shortcut file as an executable file. In *nix systems, symlinks in place of the actual file is okay for the most part!</p>
<p>It's also helpful to know what path your existing symlinks are pointing to. A simple <code>ls</code> doesn't list out your symlinks. You'll want to run <code>ls -l</code>, and symlinks will look something like the second entry below:</p>
<div class="codehilite"><pre><span class="o">-</span><span class="n">rw</span><span class="o">-------</span>   1 <span class="n">sitong</span>  <span class="n">staff</span>    28054 <span class="n">Jun</span> 29 17<span class="p">:</span>52 <span class="p">.</span><span class="n">viminfo</span>
<span class="n">lrwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span>   1 <span class="n">sitong</span>  <span class="n">staff</span>       33 <span class="n">Jun</span> 29 16<span class="p">:</span>57 <span class="p">.</span><span class="n">vimrc</span> <span class="o">-&gt;</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">sitong</span><span class="o">/</span><span class="n">dotfiles</span><span class="o">/</span><span class="n">vim</span><span class="o">/</span><span class="p">.</span><span class="n">vimrc</span>
</pre></div>


<p><span id="note">I actually ran <code>ls -al</code> since the symlinks in my <code>$HOME</code> are all dotfiles.</span>  </p>
<h2>Removing the note</h2>
<p>Removing the symlink is just an <code>rm</code> to the symlink. For instance:</p>
<div class="codehilite"><pre><span class="n">rm</span> <span class="o">~/</span><span class="p">.</span><span class="n">vimrc</span>
</pre></div>


<h2>A little bonus</h2>
<p>So we saw that <code>ln -s</code> is the command for symlinks but what if you passed a naked <code>ln</code> command to your terminal?</p>
<p>You would actually be creating a <a href="http://en.wikipedia.org/wiki/Hard_link">hard link</a>. Hard links point directly to a file's memory space instead of a filesystem path as with symlinks. This means you can move or rename the target file and the hard link will still resolve to that original target file. If you were to move or rename your symlinked target file then when some program tries to resolve the symlink, it won't find anything at that path. Try it out yourself!</p>
                <p class="comments">
        <a href="../posts/i-moved-your-stuff-but-dont-freak-out-cuz-i-left-behind-a-symlink.html#disqus_thread"></a>.
    </p>
                <p class="tags">
                    <a href="../tag/nix-craft.html">[*nix-craft]</a>
                    <a href="../tag/dotfiles.html">[dotfiles]</a>
                    <a href="../tag/shellscript.html">[shellscript]</a>
            </p>
        </article>
            
                <header>
            <h1><a href="../posts/no-man-is-an-island.html" rel="bookmark"
                   title="Permalink to No man is an island: Collaboration with git">No man is an island: Collaboration with git</a></h1>
        <p class="date">Tuesday, March 12, 2013</p>        </header>
        <article>
            <p>I'm currently in the middle of a Git crash course at work. Though to be honest, it's not really a course. It's more just me crashing. Luckily <code>git</code> is forgiving while I'm expanding my terminology past <code>add</code>, <code>commit</code>, <code>push</code>, <code>status</code>, <code>diff</code>, and <code>clone</code>. In this post, I'll summarize what I'm learning in my own words, but you should read the amazingly clear <a href="http://git-scm.com/book">Pro Git</a> text if you have the time.</p>
<h2>Version control for the masses</h2>
<p>When you're just a lone soul contributing to your own project, <code>git</code> is basically just a backup system. You're really only keeping snapshots of your project progress and not really worrying about concurrent user editing. But add other contributors into the equation and suddenly you'll need to be in control of all the moving parts of your codebase, or you may have a mess of things.</p>
<h2>Growing a forest from a single tree</h2>
<p>Every <code>git</code> repository holds a wealth of information about a project. Since each repository houses an entire project and it is dead simple to pull down repository clones from websites like <a href="https://github.com">Github</a> and <a href="https://bitbucket.org/">BitBucket</a>, it is easy to see how a popular project might spread its roots over many machines. This can lead to a lot of chaos though, and teams that are working together on projects will need to work on atomizing their changes. Individual commits do fulfill this fairly well on the small scale, but you also need to organize your commits into groups. A good way of conducting this separation is through <code>git</code>'s branching model.</p>
<div class="codehilite"><pre><span class="n">git</span> <span class="n">branch</span> <span class="p">[</span><span class="n">new_branch</span><span class="p">]</span>
</pre></div>


<p>This command creates a new branch separate from your current development branch. Branching is useful to organize paths of development, as you're literally splitting off a new path. For instance, you might want to make a new branch for every bug-fix/feature request of your website or for both server and client sides of your new game. If not given a parameter, <code>git branch</code> will simply list your outstanding branches and show you which branch you're currently working in.</p>
<p>To actually move branches, you'll want to run this command:</p>
<div class="codehilite"><pre><span class="n">git</span> <span class="n">checkout</span> <span class="p">[</span><span class="n">existing_branch</span><span class="p">]</span>
</pre></div>


<p>Then you can either <code>git branch</code> or <code>git status</code> to see where you are.</p>
<h2>Finding your way back home</h2>
<p>Great, so you've fixed three bugs and added two features, including pillow armor for your game's main character. How do you get all of that jazz back onto your main development or master branch?</p>
<p>Generally there's two ways about this.</p>
<div class="codehilite"><pre><span class="n">git</span> <span class="n">merge</span> <span class="p">[</span><span class="n">existing_side_branch</span><span class="p">]</span>
</pre></div>


<p>While you're in a branch (such as the main/master branch) and you want to merge in a side branch, you'll generally be safe with this command. If your current branch never moved forward, the merge will just <code>fast forward</code> your current branch to the position of the side branch. If your current branch has progressed separately from the side branch, the merge will recursively find the two branches' common ancestor, then perform a three-way merge. You'll end up with an extra commit that merges your two branches. This extra commit will have two parents instead of one (one for each branch that it was merged from).</p>
<p>You can avoid having two parent commits and have a more straightforward development path with the second method of merging.</p>
<div class="codehilite"><pre><span class="n">git</span> <span class="n">rebase</span> <span class="p">[</span><span class="n">existing_main_branch</span><span class="p">]</span>
</pre></div>


<p>You'll start in your side branch. The <code>rebase</code> command starts with the divergent main branch and tries to sequentially stack the each side branch's commits on top. If there are no merge conflicts, you'll end up with a straight development path.</p>
<h2>Knowing where your keys are</h2>
<p>The true beauty of <code>git</code> isn't realized until you spread out repositories onto different machines and servers. Remote locations are tracked in the <code>remote</code> variable.</p>
<div class="codehilite"><pre><span class="n">git</span> <span class="n">remote</span>
</pre></div>


<p>This lists all saved remote locations. Your list may contain <code>origin</code> (Github/Bitbucket), <code>heroku</code> (Heroku), or the name for your own private server.</p>
<p>Anyways, that's essentially the foundation you need for version control. Stay tuned to a later post for more advanced <code>git</code> control.</p>
                <p class="comments">
        <a href="../posts/no-man-is-an-island.html#disqus_thread"></a>.
    </p>
                <p class="tags">
                    <a href="../tag/git.html">[git]</a>
                    <a href="../tag/version-control.html">[version control]</a>
                    <a href="../tag/crash-course.html">[crash course]</a>
                    <a href="../tag/rebase.html">[rebase]</a>
                    <a href="../tag/github.html">[github]</a>
                    <a href="../tag/heroku.html">[heroku]</a>
                    <a href="../tag/bitbucket.html">[bitbucket]</a>
            </p>
        </article>
            
                <header>
            <h1><a href="../posts/objects-attributes-functions-and-methods.html" rel="bookmark"
                   title="Permalink to Objects, attributes, functions, and methods">Objects, attributes, functions, and methods</a></h1>
        <p class="date">Sunday, April 07, 2013</p>        </header>
        <article>
            <p>I set some time out to open the box on some <a href="http://www.python.org">Python</a> fundamentals this weekend. I have a few topics to write about but, for today, let's talk a little about objects.</p>
<h2>Objects</h2>
<p>Objects are a big deal in Python. And rightfully so, as most developers use Python in an object oriented manner, though you can certainly write imperatively or pseudo-functionally too. In fact, some people subscribe to the thought that <a href="http://www.diveintopython.net/getting_to_know_python/everything_is_an_object.html">everything in Python is an object</a>. I'm not going to argue about whether that's true or not so we'll just tip-toe around it and state that there are an <strong>awful lot of objects</strong>.</p>
<p>So what is an object? Let's use <a href="http://en.wikipedia.org/wiki/Object_(computer_science)#Properties_of_an_object">Wikipedia</a>'s definition. Objects are characterized by these properties:</p>
<h4>Identity (Objects are unique from each other)</h4>
<div class="codehilite"><pre><span class="k">class</span> <span class="nc">Trivial</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="n">obj</span><span class="p">,</span> <span class="n">diff_obj</span> <span class="o">=</span> <span class="n">Trivial</span><span class="p">(),</span> <span class="n">Trivial</span><span class="p">()</span>

<span class="nb">id</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="c"># 25851216</span>
<span class="nb">id</span><span class="p">(</span><span class="n">diff_obj</span><span class="p">)</span> <span class="c"># 26133840</span>
</pre></div>


<h4>State (Can store data in object)</h4>
<div class="codehilite"><pre><span class="kn">import</span> <span class="nn">os</span> <span class="c"># modules are objects</span>
<span class="n">os</span><span class="o">.</span><span class="n">my_data</span> <span class="o">=</span> <span class="s">&#39;arbitrary&#39;</span>
<span class="k">print</span> <span class="n">os</span><span class="o">.</span><span class="n">my_data</span> <span class="c"># arbitrary</span>
</pre></div>


<h4>Behavior (Can manipulate the object)</h4>
<div class="codehilite"><pre><span class="k">print</span> <span class="s">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s">&#39;strings&#39;</span><span class="p">,</span> <span class="s">&#39;are&#39;</span><span class="p">,</span> <span class="s">&#39;objects&#39;</span><span class="p">,</span> <span class="s">&#39;with&#39;</span><span class="p">,</span> <span class="s">&#39;methods&#39;</span><span class="p">])</span>
<span class="c"># strings are objects with methods</span>
</pre></div>


<h2>Attributes and Methods</h2>
<p>You're probably familiar with setting object attributes to static data or writing simple methods if you've worked with objects in the past.</p>
<div class="codehilite"><pre><span class="k">class</span> <span class="nc">Lannister</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>

    <span class="k">def</span> <span class="nf">say_family_motto</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span> <span class="s">&#39;{} says: &quot;Hear Me Roar!&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

<span class="n">tyrion</span> <span class="o">=</span> <span class="n">Lannister</span><span class="p">()</span>

<span class="k">print</span> <span class="n">tyrion</span><span class="o">.</span><span class="n">name</span>
<span class="c"># Tyrion Lannister</span>
<span class="n">tyrion</span><span class="o">.</span><span class="n">say_family_motto</span><span class="p">()</span>
<span class="c"># Tyrion Lannister says: &quot;Hear Me Roar!&quot;</span>
</pre></div>


<p>But you're actually not limited to such trivial behavior. For instance, since functions are first class objects in Python, you could easily do the following too.</p>
<div class="codehilite"><pre><span class="k">def</span> <span class="nf">say_common_motto</span><span class="p">():</span>
    <span class="k">print</span> <span class="s">&#39;A Lannister Always Pays His Debts.&#39;</span>

<span class="n">tyrion</span><span class="o">.</span><span class="n">say_common_motto</span> <span class="o">=</span> <span class="n">say_common_motto</span>

<span class="n">tyrion</span><span class="o">.</span><span class="n">say_common_motto</span><span class="p">()</span>
<span class="c"># A Lannister Always Pays His Debts.</span>
</pre></div>


<p>As you can see, we've set the <code>.say_common_motto</code> attribute to the function object <code>say_common_motto</code>, then invoked the attribute.</p>
<p>Before we continue, we should make a distinction between <code>.say_common_motto</code> and <code>.say_family_motto</code>.</p>
<div class="codehilite"><pre><span class="nb">type</span><span class="p">(</span><span class="n">tyrion</span><span class="o">.</span><span class="n">say_common_motto</span><span class="p">)</span>
<span class="c"># &lt;type &#39;function&#39;&gt;</span>
<span class="nb">type</span><span class="p">(</span><span class="n">tyrion</span><span class="o">.</span><span class="n">say_family_motto</span><span class="p">)</span>
<span class="c"># &lt;type &#39;instancemethod&#39;&gt;</span>
</pre></div>


<p>Python resolves the type of <code>.say_common_motto</code> to a function object and <code>.say_family_motto</code> to an instance method object. What's the difference?</p>
<p>You can think of a method as a function with a unique difference. A method always takes the object it's associated with as it's first argument. You don't have a choice on the matter.</p>
<p>Under the hood, when Python sees <code>tyrion.say_family_motto()</code>, it first looks for a <code>.say_family_motto</code> attribute in <code>tyrion</code> (this means you can override an object method by writing to an object attribute with the same name). When it doesn't find that, the interpreter will jump up to the class level and look for <code>say_family_motto</code> function defined at the class level. Once found, it will invoke the function as a method - namely, by attaching the <code>tyrion</code> object to the head of the argument list. That's also why a method definition always includes a positional argument placeholder first (traditionally called <code>self</code> in Python).</p>
<p>Methods are really just a shortcut though. You can actually just define your own function with an argument placeholder for an object and attach the function to the object attribute. An example makes this clearer. Suppose we rewrote the <code>say_common_motto</code> function to make it equivalent to a method.</p>
<div class="codehilite"><pre><span class="k">def</span> <span class="nf">say_common_motto</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&#39;{} says: &quot;A Lannister Always Pays His Debts.&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

<span class="n">tyrion</span><span class="o">.</span><span class="n">say_common_motto</span> <span class="o">=</span> <span class="n">say_common_motto</span>

<span class="n">tyrion</span><span class="o">.</span><span class="n">say_common_motto</span><span class="p">(</span><span class="n">tyrion</span><span class="p">)</span>
<span class="c"># Tyrion Lannister says: &quot;A Lannister Always Pays His Debts.&quot;</span>

<span class="n">tyrion</span><span class="o">.</span><span class="n">say_family_motto</span><span class="p">()</span>
<span class="c"># Tyrion Lannister says: &quot;Hear Me Roar!&quot;</span>
</pre></div>


<p>As you can see, defining a method in the class is a lot cleaner than attaching a function to the instance object. But both styles get you to the same resolution eventually. </p>
<p>Anyways, hopefully you know a little more about Python objects now.</p>
                <p class="comments">
        <a href="../posts/objects-attributes-functions-and-methods.html#disqus_thread"></a>.
    </p>
                <p class="tags">
                    <a href="../tag/objects.html">[objects]</a>
                    <a href="../tag/python.html">[python]</a>
                    <a href="../tag/functions.html">[functions]</a>
            </p>
        </article>
                                    <p class="paginator">
        Page 1 / 3
            <a href="../author/sitong-peng2.html">&gt;&gt;</a>
    </p>
                                <footer>
        Awesomeness powered by <a href="http://getpelican.com/">Pelican</a> and <a href="http://jinja.pocoo.org/docs/">Jinja2</a>.
        </footer>
    </section>

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37415854-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'sitong-blog';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>