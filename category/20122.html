<!DOCTYPE html>
<html lang="en">
<head>
        <title>writings</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="/theme/css/main.css" type="text/css" />
        <link href="http://blog.sitongpeng.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="writings Atom Feed" />
        <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700,400italic,700italic|Droid+Sans+Mono|Merriweather:400,300,700' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="/theme/css/highlight.css">

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://blog.sitongpeng.com/css/ie.css"/>
                <script src="http://blog.sitongpeng.com/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://blog.sitongpeng.com/css/ie6.css"/><![endif]-->

</head>

<body>

    <header id="sidebar">
        <div class="bounds">
            <a href="https://twitter.com/stoneG_" target="_blank"><img class="face" src="https://raw.github.com/stoneG/stoneg.github.com/master/images/face.jpg"></a>
            <h1><a href="/">writings</a></h1>
            <p>they're the words that got out</p>
                <ul>
                    <li><a href="/index.html">Home</a></li>
                    <li><a href="http://www.sitongpeng.com/about.html">About</a></li>
                    <li><a href="/archives.html">Archives</a></li>
                    <li><a href="/tags.html">Tags</a></li>
                    <li><a href="/feeds/all.atom.xml">Atom</a></li>
                    <li></li>
                            <li><a href="http://twitter.com/stoneG_">Twitter</a></li>
                            <li><a href="https:/github.com/stoneG">Github</a></li>
                </ul>
        </div>
    </header>

    <section id="main">

        <header>
            <h1><a href="http://blog.sitongpeng.com/posts/removing-punctuation-from-a-text-string.html" rel="bookmark"
                   title="Permalink to Removing punctuation from a text string">Removing punctuation from a text string</a></h1>
<p class="date">Monday, December 03, 2012</p>        </header>
        <article>
            <p>I was working on a side project last week. It’s called <a class="reference external" href="https://github.com/stoneG/linguist">Linguist</a> and
one of the components of the project requires me to have a large corpus
of English word frequencies. After some research, I decided I could
focus on all the words in the <a class="reference external" href="http://en.wikipedia.org/wiki/Official_Tournament_and_Club_Word_List">Scrabble Official Word List (OWL)</a> and
wrangle out the word counts using all English books on <a class="reference external" href="http://www.gutenberg.org/">Project
Gutenberg</a>. This was a bit more strenuous of an undertaking than I had
anticipated, as Project Gutenberg’s English library is quite sizable.
So, obviously, I first need a quick way to remove all punctuation from
these ebooks so I can iterate through them to build my word count
dictionary.</p>
<div class="section" id="so-whats-a-fast-way-to-do-that-in-python">
<h2>So what’s a fast way to do that in Python?</h2>
</p><p>Let’s consider using: string.replace, sets, regex, and string.translate.
We’ll use <a class="reference external" href="http://www.gutenberg.org/ebooks/46">A Christmas Carol</a> as our benchmark text, since it’s
December.</p>
<p><pre class="literal-block">
f = open('A_Christmas_Carol.txt', 'r')book = f.read()f.close()
</pre>
</p></div>
<div class="section" id="methods">
<h2>Methods</h2>
</p><p><pre class="literal-block">
# setspunctuation_set = set(string.punctuation)def set_method(book):    return ''.join(char for char in book if char not in punctuation_set)# regexpunctuation_regex = re.compile('[{0}]'.format(re.escape(string.punctuation)))def regex_method(book):    return punctuation_regex.sub('', book)# string.replacedef replace_method(book):    for punctuation in string.punctuation:        book = book.replace(punctuation, '')    return book# string.translatedef translate_method(book):    return book.translate(None, string.punctuation)
</pre>
</p></div>
<div class="section" id="results">
<h2>Results</h2>
</p><p><pre class="literal-block">
sets     : 0.0455198287964 seconds.regex    : 0.0134680271149 seconds.replace  : 0.0041608810424 seconds.translate: 0.0006558895111 seconds.
</pre>
</p><p>So, when you’re looking at stripping punctuation from gigabytes of text
files, it’s safe to say that you should be using string.translate.</p>
</p></div>

    <p class="comments">
        <a href="http://blog.sitongpeng.com/posts/removing-punctuation-from-a-text-string.html#disqus_thread"></a>.
    </p>
    <p class="tags">
            <a href="http://blog.sitongpeng.com/tag/python.html">[python]</a>
            <a href="http://blog.sitongpeng.com/tag/removing.html">[removing]</a>
            <a href="http://blog.sitongpeng.com/tag/punctuation.html">[punctuation]</a>
            <a href="http://blog.sitongpeng.com/tag/from.html">[from]</a>
            <a href="http://blog.sitongpeng.com/tag/a.html">[a]</a>
            <a href="http://blog.sitongpeng.com/tag/text.html">[text]</a>
            <a href="http://blog.sitongpeng.com/tag/string.html">[string]</a>
            <a href="http://blog.sitongpeng.com/tag/benchmark.html">[benchmark]</a>
            <a href="http://blog.sitongpeng.com/tag/set.html">[set]</a>
            <a href="http://blog.sitongpeng.com/tag/regex.html">[regex]</a>
            <a href="http://blog.sitongpeng.com/tag/translate.html">[translate]</a>
            <a href="http://blog.sitongpeng.com/tag/replace.html">[replace]</a>
            <a href="http://blog.sitongpeng.com/tag/linguist.html">[linguist]</a>
            <a href="http://blog.sitongpeng.com/tag/project-gutenberg.html">[project gutenberg]</a>
            <a href="http://blog.sitongpeng.com/tag/scrabble.html">[scrabble]</a>
            <a href="http://blog.sitongpeng.com/tag/a-christmas-carol.html">[a christmas carol]</a>
    </p>
        </article>

        <header>
            <h1><a href="http://blog.sitongpeng.com/posts/furthermore-http-has-become-quite-popular-lately-and-browsers-are-no-longer-the-only-clients-that.html" rel="bookmark"
                   title="Permalink to "Furthermore HTTP has become quite popular lately and browsers are no longer the only clients that..."">&quot;Furthermore HTTP has become quite popular lately and browsers are no longer the only clients that...&quot;</a></h1>
<p class="date">Monday, November 26, 2012</p>        </header>
        <article>
            <p>“Furthermore HTTP has become quite popular lately and browsers are no
longer the only clients that are using HTTP. For instance, many revision
control system use it.”
- <em>`Flask Quickstart Guide`_</em></p>

    <p class="comments">
        <a href="http://blog.sitongpeng.com/posts/furthermore-http-has-become-quite-popular-lately-and-browsers-are-no-longer-the-only-clients-that.html#disqus_thread"></a>.
    </p>
    <p class="tags">
            <a href="http://blog.sitongpeng.com/tag/flask.html">[flask]</a>
            <a href="http://blog.sitongpeng.com/tag/python.html">[python]</a>
            <a href="http://blog.sitongpeng.com/tag/http.html">[HTTP]</a>
            <a href="http://blog.sitongpeng.com/tag/revision-control.html">[revision control]</a>
            <a href="http://blog.sitongpeng.com/tag/browsers.html">[browsers]</a>
    </p>
        </article>

        <header>
            <h1><a href="http://blog.sitongpeng.com/posts/from-constants-import.html" rel="bookmark"
                   title="Permalink to from constants import *">from constants import *</a></h1>
<p class="date">Tuesday, November 13, 2012</p>        </header>
        <article>
            <p>Is this pythonic? According to the Python documentation on <strong>`Language
Constructs You Should Not Use`_</strong>, the following tops the list:</p>
<p><pre class="literal-block">
from module import *
</pre>
</p><p>However, here’s a problem I’m running into. I want some constants to be
use-able over a couple different modules, but I don’t want to call
constants.FOO every time I need to use them. So, what’s a guy to do?</p>
<p>Well, I’m going to throw “caution” to the wind and just create a
“constants.py” file and attach a “from constants import *” to the files
I need these constants in. I feel like this situation falls under
category 3 of the <strong>`When It Is Just Fine`_</strong> section.</p>
<p>What do you think?</p>
</p>
    <p class="comments">
        <a href="http://blog.sitongpeng.com/posts/from-constants-import.html#disqus_thread"></a>.
    </p>
    <p class="tags">
            <a href="http://blog.sitongpeng.com/tag/pythonic.html">[pythonic]</a>
            <a href="http://blog.sitongpeng.com/tag/constants.html">[constants]</a>
            <a href="http://blog.sitongpeng.com/tag/python.html">[python]</a>
    </p>
        </article>

        <header>
            <h1><a href="http://blog.sitongpeng.com/posts/project-euler-3.html" rel="bookmark"
                   title="Permalink to Project Euler 3">Project Euler 3</a></h1>
<p class="date">Thursday, November 01, 2012</p>        </header>
        <article>
            <p>I’ve updated the method on this solution after discussing and optimizing
with <a class="reference external" href="http://www.jamesshieh.com">James</a>. Here is his code in Python:</p>
<p><pre class="literal-block">
n = 600851475143pfact = 0i = 2while i &lt; n+1:    while n % i == 0:        n = n/i        pfact = i    i += 1print pfact
</pre>
</p><p>The awesome thing about this code (besides that it’s so short), is that
it naturally pulls out all the prime factors of a number in two while
loops. It’s pitfall is when you are given large prime number to begin
with (such as 600851475149), these loops would have to count up to the
prime number before it found it.</p>
<p>My solution’s pitfall is if you are given a number that has numerous
small prime factors, such as 2^32, which only has the prime factor 2.
However, by merging the ideas of my and James’ solution, we can come up
with a much more optimal solution that avoids both of our pitfalls:</p>
<p><pre class="literal-block">
largestPrimeFactor = function(num) {  i = 2    if(isPrime(num)){        return(num)  }    while(i &lt; num){       while(num % i == 0) { # Used to be if(num % i == 0)                        num = num/i # redefine num by pulling out the lowest prime factor          if(isPrime(num)){                return(num)          }        }        i = i + 1    }}
</pre>
</p><p>So, 2^32 and 600581475149 both run instantly instead of never.</p>
</p>
    <p class="comments">
        <a href="http://blog.sitongpeng.com/posts/project-euler-3.html#disqus_thread"></a>.
    </p>
    <p class="tags">
            <a href="http://blog.sitongpeng.com/tag/project-euler.html">[project euler]</a>
            <a href="http://blog.sitongpeng.com/tag/pair-programming.html">[pair programming]</a>
            <a href="http://blog.sitongpeng.com/tag/python.html">[python]</a>
            <a href="http://blog.sitongpeng.com/tag/r.html">[R]</a>
            <a href="http://blog.sitongpeng.com/tag/prime-factors.html">[prime factors]</a>
    </p>
        </article>

        <header>
            <h1><a href="http://blog.sitongpeng.com/posts/favorite-term-of-the-day.html" rel="bookmark"
                   title="Permalink to Favorite term of the day">Favorite term of the day</a></h1>
<p class="date">Wednesday, October 24, 2012</p>        </header>
        <article>
            <p>In parallel computing, a problem in which all the sub-processes are
completely independent and do not rely on each other is called an
“Embarrassingly Parallel Problem”. So I guess the routine eureka
exclamation in this field is: “Ah! Turns out this is an embarrassingly
parallel problem!” *facepalm*.</p>
</p>
    <p class="comments">
        <a href="http://blog.sitongpeng.com/posts/favorite-term-of-the-day.html#disqus_thread"></a>.
    </p>
    <p class="tags">
            <a href="http://blog.sitongpeng.com/tag/parallel-computing.html">[parallel computing]</a>
            <a href="http://blog.sitongpeng.com/tag/mapreduce.html">[mapreduce]</a>
            <a href="http://blog.sitongpeng.com/tag/embarrassingly-parallel.html">[embarrassingly parallel]</a>
    </p>
        </article>
<p class="paginator">
            <a href="http://blog.sitongpeng.com/category/2012.html">&lt;&lt;</a>
    Page 2 / 4
        <a href="http://blog.sitongpeng.com/category/20123.html">&gt;&gt;</a>
</p>
        <footer>
        Awesomeness powered by <a href="http://getpelican.com/">Pelican</a> and <a href="http://jinja.pocoo.org/docs/">Jinja2</a>.
        </footer>
    </section>

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37415854-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'sitong-blog';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>